import{c as b,a as Q,u as Y,r as d,f as w,j as e,S as U,z as v}from"./index-C5zu638Z.js";import{U as I}from"./users-DFSCEz06.js";import{G as V}from"./graduation-cap-Bs0k5wh8.js";import{D as ee}from"./dollar-sign-C2smdeAZ.js";import{C as te}from"./circle-check-big-CLWrN4xD.js";import{a as se,A as ae}from"./arrow-up-right-CfLCjv1A.js";import{C as re}from"./chevron-right-CaYjGwZ8.js";import{A as ne}from"./activity-B7VgOKxf.js";import{C as le}from"./check-BoSilshj.js";import{X as ie}from"./x-BNI3Xqt-.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=b("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=b("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=b("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=b("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=b("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=b("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=b("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=b("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=b("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=b("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),g=a=>a.toFixed(2),z=a=>{const l=Math.floor((Date.now()-a)/1e3);return l<60?`${l}s`:l<3600?`${Math.floor(l/60)}m`:l<86400?`${Math.floor(l/3600)}h`:`${Math.floor(l/86400)}d`},be=()=>{const[a,l]=d.useState(new Date);return d.useEffect(()=>{const h=setInterval(()=>l(new Date),1e3);return()=>clearInterval(h)},[]),a},ue=({data:a,color:l="#D4AF37"})=>{if(a.length<2)return null;const h=Math.max(...a)||1,n=Math.min(...a),c=80,o=28,u=a.map((x,C)=>{const m=C/(a.length-1)*c,f=o-(x-n)/(h-n||1)*o;return`${m},${f}`}).join(" ");return e.jsx("svg",{width:c,height:o,className:"opacity-70",children:e.jsx("polyline",{fill:"none",stroke:l,strokeWidth:"1.5",points:u})})},fe={blue:{ring:"border-blue-500/30",icon:"text-blue-400",badge:"bg-blue-500/10 text-blue-400"},gold:{ring:"border-gold/30",icon:"text-gold",badge:"bg-gold/10 text-gold"},purple:{ring:"border-purple-500/30",icon:"text-purple-400",badge:"bg-purple-500/10 text-purple-400"},green:{ring:"border-green-500/30",icon:"text-green-400",badge:"bg-green-500/10 text-green-400"},red:{ring:"border-red-500/30",icon:"text-red-400",badge:"bg-red-500/10 text-red-400"}},N=({icon:a,label:l,value:h,sub:n,color:c="gold",sparkline:o,live:u})=>{const x=fe[c];return e.jsxs("div",{className:`relative rounded-2xl border ${x.ring} bg-[#111]/60 backdrop-blur-sm p-5 flex flex-col gap-3 transition-all hover:scale-[1.01] group overflow-hidden`,children:[u&&e.jsx("span",{className:"absolute top-3 right-3 flex items-center gap-1",children:e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse shadow-[0_0_6px_rgba(34,197,94,0.6)]"})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`p-2 rounded-xl bg-white/5 ${x.icon}`,children:e.jsx(a,{size:18})}),o&&e.jsx(ue,{data:o,color:c==="gold"?"#D4AF37":c==="green"?"#4ade80":"#60a5fa"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.25em] text-white/30 mb-1",children:l}),e.jsx("h3",{className:"text-2xl font-black tracking-tighter text-white",children:h}),n&&e.jsx("p",{className:"text-[10px] text-white/30 mt-0.5",children:n})]})]})},y=({active:a,onClick:l,icon:h,label:n,badge:c})=>e.jsxs("button",{onClick:l,className:`relative flex items-center gap-2.5 px-5 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${a?"bg-gold text-black shadow-lg shadow-gold/20":"text-white/30 hover:text-white hover:bg-white/5"}`,children:[e.jsx(h,{size:13,className:a?"text-black":"text-gold"}),n,c!==void 0&&c>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[8px] font-black rounded-full w-4 h-4 flex items-center justify-center",children:c>9?"9+":c})]}),je=({teacher:a,onSave:l})=>{const[h,n]=d.useState(!1),[c,o]=d.useState(String(Math.round((a.commissionRate??.5)*100)));return h?e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("input",{autoFocus:!0,type:"number",min:"10",max:"95",value:c,onChange:u=>o(u.target.value),className:"w-16 bg-black/60 border border-gold/40 rounded-lg px-2 py-1 text-xs text-gold font-mono text-center outline-none"}),e.jsx("span",{className:"text-[10px] text-white/30",children:"%"}),e.jsx("button",{onClick:()=>{l(a.id,Number(c)/100),n(!1)},className:"text-green-400 hover:text-green-300",children:e.jsx(le,{size:13})}),e.jsx("button",{onClick:()=>n(!1),className:"text-red-400 hover:text-red-300",children:e.jsx(ie,{size:13})})]}):e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-1.5 group/edit",children:[e.jsxs("span",{className:"text-xs font-black text-gold font-mono",children:[Math.round((a.commissionRate??.5)*100),"%"]}),e.jsx(me,{size:10,className:"text-white/20 group-hover/edit:text-gold transition-colors"})]})},Te=()=>{const{currentUser:a}=Q(),l=Y(),h=be(),[n,c]=d.useState([]),[o,u]=d.useState([]),[x,C]=d.useState([]),[m,f]=d.useState("users"),[j,q]=d.useState(""),[H,P]=d.useState(!0),[O,S]=d.useState(Date.now()),[D,W]=d.useState(0),G=d.useRef(0);d.useEffect(()=>{G.current++,W(t=>t+1)},[n,o,x]),d.useEffect(()=>{a&&a.email!=="andreslgumuzio@gmail.com"&&l("/")},[a,l]),d.useEffect(()=>{if(!a||a.email!=="andreslgumuzio@gmail.com")return;const t=w.subscribeToCollection("users",i=>{c(i),S(Date.now()),P(!1)}),s=w.subscribeToCollection("teachers",i=>{u(i),S(Date.now())}),r=w.subscribeToCollection("transactions",i=>{C(i.sort((p,M)=>M.timestamp-p.timestamp)),S(Date.now())});return()=>{t(),s(),r()}},[a]);const A=x.filter(t=>t.type==="payment_received").reduce((t,s)=>t+s.amount,0);n.filter(t=>t.role==="student"&&t.status!=="banned").length;const $=n.filter(t=>t.status==="banned").length,L=o.filter(t=>t.isVerified).length,Z=x.filter(t=>t.type==="payment_received"&&t.timestamp>Date.now()-864e5).reduce((t,s)=>t+s.amount,0),k=Array.from({length:7},(t,s)=>{const r=Date.now()-(6-s)*864e5,i=r+864e5;return x.filter(p=>p.type==="payment_received"&&p.timestamp>=r&&p.timestamp<i).reduce((p,M)=>p+M.amount,0)}),K=async(t,s)=>{try{await w.banUser(t,!s),v.success(s?"âœ… Usuario desrestringido":"ðŸš« Usuario restringido")}catch{v.error("Error al cambiar estado")}},X=async(t,s)=>{try{await w.verifyTeacher(t,!s),v.success(s?"VerificaciÃ³n retirada":"â­ VerificaciÃ³n concedida")}catch{v.error("Error al verificar")}},J=async(t,s)=>{try{await w.updateTeacher(t,{commissionRate:s}),v.success(`ComisiÃ³n actualizada al ${Math.round(s*100)}%`)}catch{v.error("Error al actualizar comisiÃ³n")}},R=n.filter(t=>{var s,r;return((s=t.name)==null?void 0:s.toLowerCase().includes(j.toLowerCase()))||((r=t.email)==null?void 0:r.toLowerCase().includes(j.toLowerCase()))}),E=o.filter(t=>{var s;return(s=t.name)==null?void 0:s.toLowerCase().includes(j.toLowerCase())}),_=x.filter(t=>{var s,r,i;return((s=t.description)==null?void 0:s.toLowerCase().includes(j.toLowerCase()))||((r=t.fromId)==null?void 0:r.includes(j))||((i=t.toId)==null?void 0:i.includes(j))});return H?e.jsxs("div",{className:"min-h-screen bg-[#0c0b0a] flex flex-col items-center justify-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(U,{size:40,className:"text-gold animate-pulse"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full bg-green-500 animate-ping"})]}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30 animate-pulse",children:"Conectando con Firestore..."})]}):e.jsxs("div",{className:"min-h-screen bg-[#0c0b0a] text-white overflow-x-hidden",children:[e.jsx("div",{className:"sticky top-0 z-50 bg-[#0c0b0a]/95 backdrop-blur-xl border-b border-white/5 px-6 py-4",children:e.jsxs("div",{className:"max-w-[1600px] mx-auto flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-1 bg-gold/20 rounded-xl blur-md"}),e.jsx("div",{className:"relative p-2.5 bg-[#111] rounded-xl border border-gold/20",children:e.jsx(U,{size:20,className:"text-gold"})})]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-base font-black tracking-tighter",children:["Control ",e.jsx("span",{className:"text-gold",children:"Central"})]}),e.jsxs("p",{className:"text-[9px] text-white/20 font-bold uppercase tracking-[0.25em]",children:["TopChess Admin Â· ",h.toLocaleTimeString("es-ES")]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-500/10 border border-green-500/20 rounded-xl",children:[e.jsx(ge,{size:11,className:"text-green-400"}),e.jsx("span",{className:"text-[9px] font-black text-green-400 uppercase tracking-widest",children:"En vivo"}),e.jsxs("span",{className:"text-[9px] text-green-300/50 font-mono",children:[D," eventos"]})]}),e.jsx("div",{className:"px-3 py-1.5 bg-white/5 border border-white/5 rounded-xl",children:e.jsxs("span",{className:"text-[9px] font-mono text-white/30",children:["Sync: ",z(O)]})}),e.jsx("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-white/5 border border-white/5 rounded-xl",children:e.jsxs("span",{className:"text-[9px] text-white/30 uppercase font-black tracking-widest",children:[n.length+o.length," entidades"]})})]})]})}),e.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 md:px-6 py-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[e.jsx(N,{icon:I,label:"Estudiantes",value:n.filter(t=>t.role==="student").length,sub:`${$} restringidos`,color:"blue",live:!0,sparkline:[...Array(7)].map((t,s)=>n.filter(r=>r.createdAt>Date.now()-(7-s)*864e5).length)}),e.jsx(N,{icon:V,label:"Mentores",value:o.length,sub:`${L} verificados`,color:"gold",live:!0,sparkline:k.map((t,s)=>s)}),e.jsx(N,{icon:ee,label:"Revenue Total",value:`â‚¬${g(A)}`,sub:`â‚¬${g(Z)} hoy`,color:"green",live:!0,sparkline:k}),e.jsx(N,{icon:F,label:"Transacciones",value:x.length,sub:`${x.filter(t=>t.timestamp>Date.now()-864e5).length} hoy`,color:"purple",live:!0}),e.jsx(N,{icon:pe,label:"Alertas",value:$,sub:"usuarios restringidos",color:"red",live:!0})]}),e.jsxs("div",{className:"bg-[#111]/60 border border-white/5 rounded-2xl overflow-hidden backdrop-blur-sm",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 p-4 border-b border-white/5 bg-white/[0.02]",children:[e.jsxs("div",{className:"flex items-center gap-1 overflow-x-auto hide-scrollbar pb-1 md:pb-0",children:[e.jsx(y,{active:m==="users",onClick:()=>f("users"),icon:I,label:"Usuarios",badge:$}),e.jsx(y,{active:m==="teachers",onClick:()=>f("teachers"),icon:V,label:"Mentores"}),e.jsx(y,{active:m==="transactions",onClick:()=>f("transactions"),icon:F,label:"Transacciones"}),e.jsx(y,{active:m==="analytics",onClick:()=>f("analytics"),icon:ce,label:"AnalÃ­ticas"}),e.jsx(y,{active:m==="system",onClick:()=>f("system"),icon:he,label:"Sistema"})]}),e.jsxs("div",{className:"relative w-full md:w-72 shrink-0",children:[e.jsx(B,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-white/20"}),e.jsx("input",{type:"text",placeholder:"Buscar...",value:j,onChange:t=>q(t.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl pl-9 pr-4 py-2.5 text-xs text-white focus:border-gold/40 outline-none placeholder:text-white/20 transition-all"})]})]}),m==="users"&&e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full min-w-[700px]",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-white/[0.02] border-b border-white/5",children:["Identidad","Rol","Saldo","Registrado","Estado",""].map(t=>e.jsx("th",{className:`p-4 text-[9px] font-black uppercase tracking-[0.2em] text-white/25 ${t===""?"text-right":"text-left"}`,children:t},t))})}),e.jsx("tbody",{className:"divide-y divide-white/[0.04]",children:R.map(t=>e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("img",{src:t.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name)}&background=1b1a17&color=D4AF37&bold=true`,className:"w-9 h-9 rounded-xl object-cover ring-1 ring-white/10 group-hover:ring-gold/20 transition-all",alt:"",onError:s=>{var r;s.target.src=`https://ui-avatars.com/api/?name=${(r=t.name)==null?void 0:r.charAt(0)}&background=1b1a17&color=D4AF37`}}),t.status==="banned"&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 rounded-full p-0.5 border border-[#111]",children:e.jsx(oe,{size:7,className:"text-white"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white leading-tight",children:t.name}),e.jsx("p",{className:"text-[10px] text-white/25 font-mono",children:t.email})]})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2.5 py-1 rounded-full border ${t.role==="teacher"?"bg-gold/10 text-gold border-gold/20":"bg-blue-500/10 text-blue-400 border-blue-500/20"}`,children:t.role})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:"font-mono text-sm font-bold text-white",children:["â‚¬",g(t.walletBalance??0)]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-[10px] text-white/30 font-mono",children:t.createdAt?new Date(t.createdAt).toLocaleDateString("es-ES"):"â€”"})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2.5 py-1 rounded-full border ${t.status==="banned"?"bg-red-500/10 text-red-400 border-red-500/20":"bg-green-500/10 text-green-400 border-green-500/20"}`,children:t.status==="banned"?"Restringido":"Activo"})}),e.jsx("td",{className:"p-4 text-right",children:e.jsx("button",{onClick:()=>K(t.id,t.status==="banned"),className:`p-2 rounded-xl border transition-all ${t.status==="banned"?"bg-green-500/10 text-green-400 border-green-500/20 hover:bg-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20 hover:bg-red-500/20"}`,title:t.status==="banned"?"Restaurar acceso":"Restringir usuario",children:t.status==="banned"?e.jsx(de,{size:14}):e.jsx(xe,{size:14})})})]},t.id))})]}),R.length===0&&e.jsx(T,{label:"No hay usuarios"})]}),m==="teachers"&&e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full min-w-[800px]",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-white/[0.02] border-b border-white/5",children:["Mentor","RegiÃ³n","Tarifa/h","ComisiÃ³n","Clases","Ingresos",""].map(t=>e.jsx("th",{className:`p-4 text-[9px] font-black uppercase tracking-[0.2em] text-white/25 ${t===""?"text-right":"text-left"}`,children:t},t))})}),e.jsx("tbody",{className:"divide-y divide-white/[0.04]",children:E.map(t=>e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("img",{src:t.image,className:"w-10 h-10 rounded-xl object-cover ring-1 ring-white/10 group-hover:ring-gold/20 transition-all grayscale group-hover:grayscale-0",alt:""}),t.isVerified&&e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-gold rounded-full p-0.5 border border-[#111] shadow-[0_0_6px_rgba(212,175,55,0.4)]",children:e.jsx(te,{size:8,className:"text-black"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white leading-tight group-hover:text-gold transition-colors",children:t.name}),e.jsx("p",{className:"text-[9px] text-white/25 uppercase tracking-wider",children:t.teachingStyle})]})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-[9px] text-white/40 border border-white/10 bg-white/[0.02] px-2 py-1 rounded-lg font-mono",children:t.region})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:"font-mono text-sm font-bold text-white",children:["â‚¬",t.price]})}),e.jsx("td",{className:"p-4",children:e.jsx(je,{teacher:t,onSave:J})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"font-mono text-sm text-white/60",children:t.classesGiven??0})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:"font-mono text-sm font-bold text-green-400",children:["â‚¬",g(t.earnings??0)]})}),e.jsx("td",{className:"p-4 text-right",children:e.jsx("button",{onClick:()=>X(t.id,t.isVerified??!1),className:`px-3 py-1.5 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all ${t.isVerified?"bg-gold text-black border-gold shadow-gold/20":"bg-white/5 text-white/30 border-white/10 hover:border-gold/40 hover:text-gold"}`,children:t.isVerified?"âœ“ Verificado":"Verificar"})})]},t.id))})]}),E.length===0&&e.jsx(T,{label:"No hay mentores"})]}),m==="transactions"&&e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full min-w-[700px]",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-white/[0.02] border-b border-white/5",children:["Tipo","DescripciÃ³n","CuantÃ­a","Tiempo","Ruta"].map(t=>e.jsx("th",{className:"p-4 text-left text-[9px] font-black uppercase tracking-[0.2em] text-white/25",children:t},t))})}),e.jsx("tbody",{className:"divide-y divide-white/[0.04]",children:_.map(t=>{var s,r;return e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[e.jsx("td",{className:"p-4",children:e.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center border ${t.type==="deposit"?"bg-blue-500/10 border-blue-500/20 text-blue-400":t.type==="payment_received"?"bg-green-500/10 border-green-500/20 text-green-400":"bg-orange-500/10 border-orange-500/20 text-orange-400"}`,children:t.type==="deposit"?e.jsx(se,{size:14}):e.jsx(ae,{size:14})})}),e.jsxs("td",{className:"p-4",children:[e.jsx("p",{className:"text-sm font-bold text-white truncate max-w-[200px]",children:t.description}),e.jsx("p",{className:"text-[9px] text-white/25 font-mono",children:t.id})]}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:`font-mono text-sm font-black ${t.amount>0?t.description.toLowerCase().includes("comisiÃ³n")?"text-gold":"text-green-400":"text-red-400"}`,children:[t.amount>0?"+":"","â‚¬",g(Math.abs(t.amount))]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-white/50 font-mono",children:new Date(t.timestamp).toLocaleDateString("es-ES")}),e.jsxs("p",{className:"text-[9px] text-white/25 font-mono",children:[z(t.timestamp)," ago"]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-mono text-white/20",children:[e.jsxs("span",{className:"truncate max-w-[70px] hover:text-white/50 cursor-help",title:t.fromId,children:[(s=t.fromId)==null?void 0:s.slice(0,8),"â€¦"]}),e.jsx(re,{size:9}),e.jsxs("span",{className:"truncate max-w-[70px] hover:text-white/50 cursor-help",title:t.toId,children:[(r=t.toId)==null?void 0:r.slice(0,8),"â€¦"]})]})})]},t.id)})})]}),_.length===0&&e.jsx(T,{label:"Sin transacciones"})]}),m==="analytics"&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.25em] text-white/30 mb-4",children:"Revenue Ãºltimos 7 dÃ­as"}),e.jsx("div",{className:"flex items-end gap-2 h-32",children:k.map((t,s)=>{const r=Math.max(...k)||1,i=t/r*100,p=new Date(Date.now()-(6-s)*864e5);return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1.5",children:[e.jsxs("span",{className:"text-[8px] text-white/30 font-mono",children:["â‚¬",g(t)]}),e.jsx("div",{className:"w-full bg-white/5 rounded-t-lg overflow-hidden",style:{height:"80px"},children:e.jsx("div",{className:"w-full bg-gradient-to-t from-gold/60 to-gold rounded-t-lg transition-all duration-500",style:{height:`${Math.max(i,4)}%`,marginTop:`${100-Math.max(i,4)}%`}})}),e.jsx("span",{className:"text-[8px] text-white/20 font-mono",children:p.toLocaleDateString("es-ES",{weekday:"short"})})]},s)})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{label:"DepÃ³sitos",type:"deposit",color:"text-blue-400",border:"border-blue-500/20"},{label:"Pagos enviados",type:"payment_sent",color:"text-orange-400",border:"border-orange-500/20"},{label:"Pagos recibidos",type:"payment_received",color:"text-green-400",border:"border-green-500/20"}].map(t=>{const s=x.filter(i=>i.type===t.type),r=s.reduce((i,p)=>i+Math.abs(p.amount),0);return e.jsxs("div",{className:`bg-white/[0.02] border ${t.border} rounded-xl p-4`,children:[e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest text-white/30 mb-2",children:t.label}),e.jsxs("p",{className:`text-2xl font-black font-mono ${t.color}`,children:["â‚¬",g(r)]}),e.jsxs("p",{className:"text-[9px] text-white/20 mt-1",children:[s.length," operaciones"]})]},t.type)})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.25em] text-white/30 mb-3",children:"Top Mentores por Ingresos"}),e.jsx("div",{className:"space-y-2",children:[...o].sort((t,s)=>(s.earnings??0)-(t.earnings??0)).slice(0,5).map((t,s)=>{const r=Math.max(...o.map(i=>i.earnings??0))||1;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-[10px] text-white/20 font-mono w-4",children:s+1}),e.jsx("img",{src:t.image,className:"w-7 h-7 rounded-lg object-cover",alt:""}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-bold text-white",children:t.name}),e.jsxs("span",{className:"text-xs font-mono text-green-400",children:["â‚¬",g(t.earnings??0)]})]}),e.jsx("div",{className:"h-1 bg-white/5 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-gold/60 to-gold rounded-full transition-all duration-700",style:{width:`${(t.earnings??0)/r*100}%`}})})]})]},t.id)})})]})]}),m==="system"&&e.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[[{name:"Firebase Auth",status:"operational",latency:"12ms"},{name:"Firestore DB",status:"operational",latency:"24ms"},{name:"Firebase Storage",status:"operational",latency:"45ms"},{name:"LiveKit RTC",status:"operational",latency:"38ms"},{name:"Lichess API",status:"operational",latency:"120ms"},{name:"Real-time Sync",status:"operational",latency:`${D} events`}].map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/[0.02] border border-white/5 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${t.status==="operational"?"bg-green-500 shadow-[0_0_6px_rgba(34,197,94,0.5)] animate-pulse":"bg-red-500"}`}),e.jsx("span",{className:"text-sm font-bold text-white",children:t.name})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-[9px] font-mono text-white/30",children:t.latency}),e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded-full ${t.status==="operational"?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:t.status})]})]},t.name)),e.jsx("div",{className:"md:col-span-2 grid grid-cols-2 md:grid-cols-4 gap-3 pt-2",children:[{label:"Total usuarios",value:n.length+o.length},{label:"Usuarios activos",value:n.filter(t=>t.status!=="banned").length},{label:"Mentores activos",value:L},{label:"Volumen total",value:`â‚¬${g(A)}`}].map(t=>e.jsxs("div",{className:"bg-white/[0.02] border border-white/5 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-[8px] text-white/25 uppercase tracking-widest font-black mb-1",children:t.label}),e.jsx("p",{className:"text-lg font-black text-white",children:t.value})]},t.label))})]})]}),e.jsxs("div",{className:"bg-[#111]/60 border border-white/5 rounded-2xl p-5 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("p",{className:"text-[9px] font-black uppercase tracking-[0.25em] text-white/30 flex items-center gap-2",children:[e.jsx(ne,{size:11,className:"text-green-400"}),"Feed en Tiempo Real"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-ping"}),e.jsx("span",{className:"text-[9px] text-green-400/60 font-mono",children:"live"})]})]}),e.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar",children:[x.slice(0,12).map(t=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/[0.04] last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t.type==="deposit"?"bg-blue-400":t.type==="payment_received"?"bg-green-400":"bg-orange-400"}`}),e.jsx("span",{className:"text-xs text-white/60 truncate max-w-[240px]",children:t.description})]}),e.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[e.jsxs("span",{className:`text-xs font-mono font-bold ${t.amount>=0?"text-green-400":"text-red-400"}`,children:[t.amount>=0?"+":"","â‚¬",g(Math.abs(t.amount))]}),e.jsx("span",{className:"text-[9px] text-white/20 font-mono",children:z(t.timestamp)})]})]},t.id)),x.length===0&&e.jsx("p",{className:"text-center text-[10px] text-white/15 py-6 uppercase tracking-widest",children:"Sin actividad reciente"})]})]})]})]})},T=({label:a})=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-3",children:[e.jsx(B,{size:24,className:"text-white/10"}),e.jsx("p",{className:"text-[10px] text-white/15 uppercase tracking-[0.3em] font-black",children:a})]});export{Te as default};
