import{c as w,r as x,j as e,u as I,a as $,b as L,m as p,L as D,f as z,z as c}from"./index-BlMM7rvT.js";import{C as T}from"./check-0BgLtmWv.js";import{P as j}from"./PremiumButton-BWMKwNPI.js";import{U as R}from"./users-Cnx8hhZP.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=w("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=w("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=w("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=w("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),d=[{id:"level",question:"Â¿CuÃ¡l es tu nivel actual?",options:[{value:"beginner",label:"Principiante",desc:"Conozco las piezas y poco mÃ¡s.",icon:"ðŸ‘¶"},{value:"intermediate",label:"Intermedio",desc:"Juego torneos o online (1000-1600 ELO).",icon:"âš”ï¸"},{value:"advanced",label:"Avanzado",desc:"Jugador fuerte de club (>1700 ELO).",icon:"ðŸ†"}]},{id:"goal",question:"Â¿QuÃ© quieres mejorar?",options:[{value:"tactics",label:"TÃ¡ctica y CÃ¡lculo",desc:"Dejar de colgarme piezas.",icon:"âš¡"},{value:"strategy",label:"Estrategia y Posicional",desc:"Planes a largo plazo.",icon:"ðŸ§ "},{value:"openings",label:"Aperturas",desc:"Tener un repertorio sÃ³lido.",icon:"ðŸ“–"}]},{id:"style",question:"Â¿CÃ³mo prefieres aprender?",options:[{value:"analytical",label:"AnÃ¡lisis Profundo",desc:"Estudio serio de variantes.",icon:"ðŸ”¬"},{value:"dynamic",label:"PrÃ¡ctica y Juego",desc:"Mucho juego y feedback rÃ¡pido.",icon:"ðŸŽ®"},{value:"mixed",label:"Equilibrado",desc:"Un poco de teorÃ­a y prÃ¡ctica.",icon:"âš–ï¸"}]}],B=({onComplete:f,onCancel:h})=>{const[r,b]=x.useState(0),[m,a]=x.useState({}),y=t=>{const l=d[r].id;a(N=>({...N,[l]:t}))},u=()=>{r<d.length-1?b(t=>t+1):f(m)},o=()=>{r>0?b(t=>t-1):h()},n=d[r],v=m[n.id];return e.jsxs("div",{className:"w-full bg-[#262421] border border-white/5 rounded-3xl shadow-2xl overflow-hidden flex flex-col min-h-[500px]",children:[e.jsx("div",{className:"h-1.5 w-full bg-white/5 flex",children:d.map((t,l)=>e.jsx("div",{className:`h-full transition-all duration-500 ${l<=r?"bg-gold":"bg-transparent"}`,style:{width:`${100/d.length}%`}},l))}),e.jsxs("div",{className:"p-8 flex flex-col h-full flex-1",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gold text-xs font-bold uppercase tracking-widest mb-2",children:[e.jsx(E,{size:14})," Paso ",r+1," de ",d.length]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white tracking-tight",children:n.question})]}),e.jsx("div",{className:"space-y-3 flex-1",children:n.options.map(t=>{const l=m[n.id]===t.value;return e.jsxs("button",{onClick:()=>y(t.value),className:`w-full text-left p-5 rounded-2xl border transition-all duration-300 flex items-center gap-4
                                    ${l?"bg-gold/10 border-gold/50 shadow-lg shadow-gold/5":"bg-white/5 border-transparent hover:border-white/10 hover:bg-white/10"}
                                `,children:[e.jsx("span",{className:"text-3xl group-hover:scale-110 transition-transform",children:t.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-bold text-lg ${l?"text-gold":"text-white"}`,children:t.label}),e.jsx("div",{className:"text-sm text-text-muted",children:t.desc})]}),l&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-gold flex items-center justify-center text-black",children:e.jsx(T,{size:14,strokeWidth:3})})]},t.value)})}),e.jsxs("div",{className:"flex justify-between items-center mt-12 pt-6 border-t border-white/5",children:[e.jsx("button",{onClick:o,className:"text-text-muted hover:text-white px-6 py-2 text-sm font-bold uppercase tracking-wider transition-colors",children:r===0?"Cancelar":"AtrÃ¡s"}),e.jsx("button",{onClick:u,disabled:!v,className:`px-10 py-4 rounded-2xl font-black uppercase text-sm tracking-widest transition-all
                            ${v?"bg-gold text-black hover:bg-gold-hover shadow-xl hover:shadow-gold/20":"bg-white/5 text-white/20 cursor-not-allowed"}
                        `,children:r===d.length-1?"Encontrar Profesor":"Siguiente"})]})]})]})},H={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},g={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.22,1,.36,1]}}},Z=()=>{var C;const f=I(),{currentUserId:h,isAuthenticated:r,loginWithGoogle:b,userRole:m}=$(),{t:a}=L(),[y,u]=x.useState(!1),[o,n]=x.useState(null),[v,t]=x.useState(!1),[l,N]=x.useState({users:0,teachers:0,requests:0});x.useEffect(()=>{(async()=>{try{const s=await z.getPlatformStats();N({users:s.users,teachers:s.teachers,requests:s.requests})}catch(s){console.error("Error fetching stats:",s)}})()},[]);const _=()=>{if(!r){c.error(a("login_to_find")),b();return}u(!0)},A=async i=>{t(!0);try{const s=await z.getTeachers();if(s.length===0){c.error("No hay profesores disponibles en este momento"),u(!1);return}let k=s.find(P=>P.teachingStyle===i.style);k||(k=s[Math.floor(Math.random()*s.length)]),n(k),c.success("Â¡Hemos encontrado tu profesor ideal!")}catch(s){console.error("Matching error:",s),c.error("Error al buscar profesores")}finally{t(!1)}},S=async()=>{if(!o||!h){h||c.error("Por favor, inicia sesiÃ³n");return}try{const s={id:`req_${Date.now()}_${h.substring(0,5)}`,studentId:h,teacherId:o.id,status:"pending",timestamp:Date.now(),message:"Hola, me gustarÃ­a empezar mis clases contigo."};await z.createRequest(s),c.success("Solicitud enviada. Â¡Ve al chat!"),f(`/chat/${o.id}`)}catch(i){console.error("Error sending request:",i),c.error("Error al conectar con el profesor")}},M=[{icon:e.jsx(R,{size:20}),value:l.users>0?`${l.users}+`:"150+",label:a("stats.students")},{icon:e.jsx(q,{size:20}),value:l.teachers>0?`${l.teachers}+`:"15+",label:a("stats.grandmasters")},{icon:e.jsx(V,{size:20}),value:"24h",label:a("stats.response_time")}];return e.jsxs("div",{className:"relative min-h-[calc(100vh-160px)] flex flex-col items-center justify-center p-6 overflow-hidden mt-10",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 bg-purple-500/10 rounded-full blur-[100px] pointer-events-none animate-float",style:{animationDelay:"0s"}}),e.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-gold/5 rounded-full blur-[120px] pointer-events-none animate-float",style:{animationDelay:"2s"}}),!y&&!o?e.jsxs(p.div,{initial:"hidden",animate:"visible",variants:H,className:"max-w-4xl w-full text-center z-10 space-y-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(p.div,{variants:g,className:"inline-flex items-center gap-2 px-4 py-2 rounded-full glass-panel border-gold/20 text-gold/90 text-xs font-bold uppercase tracking-widest shadow-lg shadow-gold/5 mb-4",children:[e.jsx(E,{size:14})," ",a("premium_platform")]}),e.jsx(p.h1,{variants:g,className:"text-4xl md:text-6xl lg:text-8xl font-black tracking-tighter leading-tight text-white mb-6",children:a("hero_title")}),e.jsx(p.p,{variants:g,className:"text-xl text-text-muted max-w-2xl mx-auto leading-relaxed",children:a("hero_subtitle")})]}),e.jsxs(p.div,{variants:g,className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[e.jsx(j,{onClick:_,size:"lg",icon:W,children:a(r?"find_teacher":"login_to_find")}),r&&m&&e.jsx(j,{variant:"outline",size:"lg",onClick:()=>f(m==="teacher"?"/dashboard":"/student-dashboard"),icon:D,children:a("nav.panel")})]}),e.jsx("p",{className:"text-sm text-text-muted opacity-60",children:a("no_commitment")})]}),e.jsx(p.div,{variants:g,className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-2xl mx-auto pt-8 border-t border-white/5",children:M.map((i,s)=>e.jsxs("div",{className:"flex flex-col items-center space-y-1 group",children:[e.jsx("div",{className:"p-3 rounded-full bg-white/5 text-gold mb-2 group-hover:scale-110 transition-transform",children:i.icon}),e.jsx("span",{className:"text-2xl font-bold text-white transition-all group-hover:text-gold",children:i.value}),e.jsx("span",{className:"text-[10px] text-text-muted uppercase tracking-widest font-medium",children:i.label})]},s))})]}):o?e.jsx("div",{className:"max-w-md w-full animate-enter z-20",children:e.jsxs("div",{className:"glass-panel p-8 rounded-3xl text-center space-y-6 border border-gold/30 shadow-[0_0_50px_rgba(212,175,55,0.1)]",children:[e.jsx("div",{className:"inline-block p-4 rounded-full bg-gold/10 border border-gold/30 mb-2",children:e.jsx(q,{size:48,className:"text-gold"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Â¡Profesor Encontrado!"}),e.jsx("p",{className:"text-text-muted",children:"Basado en tus objetivos, te recomendamos a:"})]}),e.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-white/10 flex items-center gap-4 text-left hover:border-gold/30 transition-colors cursor-pointer",onClick:S,children:[e.jsx("img",{src:o.image,alt:o.name,className:"w-16 h-16 rounded-full object-cover border-2 border-gold/50"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:o.name}),e.jsxs("p",{className:"text-gold font-mono text-sm",children:["ELO ",o.elo]}),e.jsx("div",{className:"flex gap-1 mt-1",children:(C=o.tags)==null?void 0:C.slice(0,2).map(i=>e.jsx("span",{className:"text-[10px] bg-white/10 px-2 py-0.5 rounded text-text-secondary",children:i},i))})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(j,{variant:"outline",className:"flex-1",onClick:()=>n(null),children:"Volver"}),e.jsx(j,{className:"flex-1",onClick:S,children:"Conectar"})]})]})}):e.jsxs("div",{className:"w-full max-w-2xl animate-enter relative z-20",children:[e.jsx("button",{onClick:()=>u(!1),className:"mb-8 text-text-muted hover:text-white flex items-center gap-2 text-sm font-bold uppercase tracking-wider transition-colors",children:"â† Volver al inicio"}),e.jsx("div",{className:"glass-panel rounded-3xl p-1 overflow-hidden shadow-2xl",children:v?e.jsxs("div",{className:"h-[500px] flex flex-col items-center justify-center p-12 text-center space-y-6",children:[e.jsx("div",{className:"w-20 h-20 border-4 border-gold/10 border-t-gold rounded-full animate-spin"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Buscando tu profesor ideal..."}),e.jsx("p",{className:"text-text-muted italic",children:"Analizando perfiles y estilos de enseÃ±anza"})]}):e.jsx(B,{onComplete:A,onCancel:()=>u(!1)})})]})]})};export{Z as default};
