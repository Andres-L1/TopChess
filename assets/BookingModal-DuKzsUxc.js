import{j as e,X as b,f as m,z as o}from"./index-fC7wmY9y.js";import{C as p}from"./Calendar-BwAidGaW.js";const f=({isOpen:n,onClose:i,teacher:a,studentId:t,onSuccess:l})=>{if(!n||!a)return null;const d=async r=>{const c=`${r.dayIndex}-${r.hour}`,x={id:`booking_${Date.now()}`,studentId:t,teacherId:a.id,slotId:c,date:new Date().toISOString().split("T")[0],time:r.hour,status:"pending",timestamp:Date.now(),meetingLink:`/classroom/${a.id}`};try{const s=await m.bookClass(t,a.id,x);s.success?(o.success("Solicitud de clase enviada. Espera la aprobación del profesor."),l&&l(),i()):o.error(s.message)}catch(s){console.error("Error creating booking:",s),o.error("Error al reservar la clase")}};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-[#0a0a0a] border border-white/10 rounded-3xl w-full max-w-lg overflow-hidden shadow-2xl relative",children:[e.jsx("button",{onClick:i,className:"absolute top-6 right-6 text-white/40 hover:text-white transition-colors","aria-label":"Cerrar Modal",children:e.jsx(b,{size:24})}),e.jsxs("div",{className:"p-8 border-b border-white/5",children:[e.jsx("h2",{className:"text-2xl font-black text-white mb-1",children:"Reservar Clase"}),e.jsxs("p",{className:"text-[#8b8982]",children:["Selecciona un horario con ",e.jsx("span",{className:"text-gold font-bold",children:a.name})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsx(p,{mode:"view",availability:a.availability||[],onSlotClick:d}),e.jsxs("div",{className:"mt-8 p-4 rounded-xl bg-gold/5 border border-gold/10",children:[e.jsx("p",{className:"text-[10px] text-gold uppercase font-black tracking-widest mb-1",children:"Nota importante"}),e.jsxs("p",{className:"text-xs text-gold/70 leading-relaxed",children:["Tu solicitud quedará en estado ",e.jsx("span",{className:"font-bold",children:"pendiente"})," hasta que el profesor la apruebe. Una vez aprobada, recibirás una notificación y podrás acceder al aula."]})]})]})]})})};export{f as B};
