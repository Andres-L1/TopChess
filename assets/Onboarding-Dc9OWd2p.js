import{c as S,a as w,r as x,j as e,f as A,z as g,u as E,U as v}from"./index-wncQym_1.js";import{C as k,M as P}from"./MatchWizard-C_jYepg9.js";import{G as h}from"./graduation-cap-Cxl4g0KJ.js";import{C as q}from"./check-CiVEnr4s.js";import{C as R}from"./chevron-right-Db2GZRXG.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=S("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),i=[{id:"level",question:"¿Cuál es tu nivel aproximado de ajedrez?",options:[{value:"beginner",label:"Principiante",desc:"Conozco las reglas, pocas partidas."},{value:"intermediate",label:"Intermedio (Club)",desc:"Juego torneos o online frecuentemente (1000-1500 ELO)."},{value:"advanced",label:"Avanzado",desc:"Jugador de torneo fuerte (>1500 ELO)."}]},{id:"goals",question:"¿Qué aspecto quieres mejorar más?",options:[{value:"tactics",label:"Táctica y Cálculo",desc:"Dejar de cometer errores graves."},{value:"openings",label:"Aperturas",desc:"Tener un plan sólido al inicio."},{value:"endgame",label:"Finales",desc:"Ganar partidas igualadas."},{value:"strategy",label:"Estrategia",desc:"Planes a largo plazo y posicionamiento."}]},{id:"style",question:"¿Cómo prefieres las clases?",options:[{value:"active",label:"Práctica Activa",desc:"Jugar, analizar y resolver ejercicios."},{value:"theory",label:"Teoría y Análisis",desc:"Estudiar partidas y conceptos profundos."},{value:"mixed",label:"Híbrido",desc:"Un poco de todo."}]}],_=({onComplete:b})=>{const{currentUserId:u,currentUser:s,setUserRole:o}=w(),[a,n]=x.useState(0),[r,m]=x.useState({}),[d,f]=x.useState(!1),N=t=>{const l=i[a].id;m(C=>({...C,[l]:t}))},y=async()=>{if(a<i.length-1)n(t=>t+1);else{f(!0);try{const t={id:u,email:(s==null?void 0:s.email)||"",name:(s==null?void 0:s.displayName)||"Estudiante",role:"student",photoURL:(s==null?void 0:s.photoURL)||"",createdAt:Date.now(),elo:r.level==="beginner"?600:r.level==="intermediate"?1200:1600,learningGoals:[r.goals],preferredStyle:r.style};await A.createUser(t),o("student"),g.success("¡Perfil de estudiante creado!"),b()}catch(t){console.error("Error creating student profile:",t),g.error("Error al crear perfil")}finally{f(!1)}}},z=()=>{a>0&&n(t=>t-1)},c=i[a],p=r[c.id];return e.jsxs("div",{className:"w-full bg-[#262421] border border-[#302e2b] rounded-2xl shadow-2xl overflow-hidden flex flex-col h-[600px]",children:[e.jsxs("div",{className:"bg-[#1e1d1b] p-6 border-b border-[#302e2b] flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/10 text-blue-400 flex items-center justify-center",children:e.jsx(h,{size:16})}),e.jsx("span",{className:"font-bold text-white",children:"Configuración de Alumno"})]}),e.jsx("div",{className:"flex gap-1",children:i.map((t,l)=>e.jsx("div",{className:`h-1.5 w-6 rounded-full transition-colors ${l<=a?"bg-blue-500":"bg-[#302e2b]"}`},l))})]}),e.jsxs("div",{className:"p-8 flex flex-col h-full overflow-y-auto custom-scrollbar",children:[e.jsx("div",{className:"mb-8 text-center",children:e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:c.question})}),e.jsx("div",{className:"grid gap-3 max-w-md mx-auto w-full",children:c.options.map(t=>{const l=r[c.id]===t.value;return e.jsx("button",{onClick:()=>N(t.value),className:`w-full text-left p-4 rounded-xl border transition-all duration-200 group relative
                                    ${l?"bg-blue-500/10 border-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.2)]":"bg-[#302e2b]/50 border-transparent hover:border-[#403d39] hover:bg-[#302e2b]"}
                                `,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-bold text-lg ${l?"text-blue-400":"text-white"}`,children:t.label}),e.jsx("div",{className:"text-sm text-[#8b8982]",children:t.desc})]}),l&&e.jsx(q,{size:20,className:"text-blue-400"})]})},t.value)})}),e.jsxs("div",{className:"mt-auto pt-8 flex justify-between items-center max-w-md mx-auto w-full",children:[e.jsxs("button",{onClick:z,disabled:a===0,className:`text-[#8b8982] hover:text-white px-4 py-2 text-sm font-medium transition-colors flex items-center gap-1
                            ${a===0?"opacity-0 pointer-events-none":""}
                        `,children:[e.jsx(k,{size:16})," Atrás"]}),e.jsx("button",{onClick:y,disabled:!p||d,className:`px-8 py-3 rounded-xl font-bold transition-all flex items-center gap-2
                            ${p?"bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-900/20":"bg-[#302e2b] text-[#666] cursor-not-allowed"}
                        `,children:d?e.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[a===i.length-1?"Finalizar":"Siguiente",a<i.length-1&&e.jsx(R,{size:16})]})})]})]})]})},G=()=>{const{currentUser:b,setUserRole:u}=w(),s=E(),[o,a]=x.useState("selection"),n=()=>{a("student_wizard")},r=()=>{s("/student-dashboard")},m=()=>{a("teacher_wizard")},d=()=>{u("teacher"),s("/dashboard")};return o==="student_wizard"?e.jsx("div",{className:"min-h-screen bg-[#161512] flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-2xl w-full",children:e.jsx(_,{onComplete:r})})}):o==="teacher_wizard"?e.jsx("div",{className:"min-h-screen bg-[#161512] flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-2xl w-full",children:e.jsx(P,{onComplete:d})})}):e.jsxs("div",{className:"min-h-screen bg-[#161512] flex flex-col items-center justify-center p-4 text-center",children:[e.jsxs("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-4 animate-fade-in",children:["Bienvenido a ",e.jsx("span",{className:"text-gold",children:"TopChess"})]}),e.jsx("p",{className:"text-[#8b8982] text-lg mb-12 max-w-md mx-auto animate-fade-in delay-100",children:"Para comenzar, cuéntanos cómo te gustaría usar la plataforma."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-3xl animate-enter delay-200",children:[e.jsxs("button",{onClick:n,className:"group bg-[#262421] hover:bg-[#302e2b] border border-white/5 hover:border-gold/30 rounded-2xl p-8 transition-all flex flex-col items-center gap-6 text-left relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:e.jsx(h,{size:120})}),e.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-500/10 text-blue-400 flex items-center justify-center mb-2 group-hover:scale-110 transition-transform",children:e.jsx(h,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Quiero Aprender"}),e.jsx("p",{className:"text-[#8b8982] text-sm",children:"Busco mentores, quiero tomar clases y mejorar mi nivel de ajedrez."})]}),e.jsxs("div",{className:"mt-auto w-full flex items-center justify-between text-blue-400 font-bold text-sm",children:[e.jsx("span",{children:"Continuar como Estudiante"}),e.jsx(j,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})]}),e.jsxs("button",{onClick:m,className:"group bg-[#262421] hover:bg-[#302e2b] border border-white/5 hover:border-gold/30 rounded-2xl p-8 transition-all flex flex-col items-center gap-6 text-left relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:e.jsx(v,{size:120})}),e.jsx("div",{className:"w-16 h-16 rounded-full bg-gold/10 text-gold flex items-center justify-center mb-2 group-hover:scale-110 transition-transform",children:e.jsx(v,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Quiero Enseñar"}),e.jsx("p",{className:"text-[#8b8982] text-sm",children:"Soy profesor o jugador experto y quiero ofrecer clases a estudiantes."})]}),e.jsxs("div",{className:"mt-auto w-full flex items-center justify-between text-gold font-bold text-sm",children:[e.jsx("span",{children:"Crear Perfil de Profesor"}),e.jsx(j,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})]})]})]})};export{G as default};
