import{c as m,r as l,n as g,f as x,j as e,M as h,m as v}from"./index-DWx9ZulP.js";import{U as j}from"./users-BtFEkV2s.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=m("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=m("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]),C=()=>{const t=l.useContext(g),[a,p]=l.useState(null),[i,u]=l.useState([]),[f,b]=l.useState(!0);if(l.useEffect(()=>{if(!(t!=null&&t.currentUserId))return;(async()=>{const o=await x.getClubByDirectorId(t.currentUserId);p(o),b(!1)})()},[t==null?void 0:t.currentUserId]),l.useEffect(()=>{if(!a||!a.teacherIds||a.teacherIds.length===0)return;const s=x.observeClubTeachersPresence(a.teacherIds,o=>{u(o)});return()=>s()},[a]),f)return e.jsx("div",{className:"min-h-screen bg-[#161512] flex items-center justify-center text-white",children:"Cargando oficina..."});if(!a)return e.jsxs("div",{className:"min-h-screen bg-[#161512] flex flex-col items-center justify-center text-white p-6 text-center",children:[e.jsx(h,{size:48,className:"text-gold mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Oficina Virtual no disponible"}),e.jsx("p",{className:"text-white/60",children:"No tienes ningún club asignado a tu cuenta de director actualmente."})]});const r=i.filter(s=>s.onlineStatus==="in_class"),n=i.filter(s=>s.onlineStatus==="online"),c=i.filter(s=>!s.onlineStatus||s.onlineStatus==="offline"),d=s=>e.jsxs(v.div,{layoutId:s.id,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-2 m-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(s.name)}&background=333&color=fff`,alt:s.name,className:"w-12 h-12 rounded-full border-2 border-[#1b1a17] shadow-lg object-cover"}),e.jsx("div",{className:`absolute bottom-0 right-0 w-3.5 h-3.5 rounded-full border-2 border-[#1b1a17] ${s.onlineStatus==="in_class"?"bg-red-500":s.onlineStatus==="online"?"bg-green-500":"bg-gray-500"}`})]}),e.jsx("div",{className:"text-xs text-white/80 font-medium bg-black/40 px-2 py-1 rounded-full backdrop-blur-sm border border-white/5",children:s.name.split(" ")[0]})]},s.id);return e.jsx("div",{className:"min-h-screen bg-[#161512] text-white pt-24 px-4 pb-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight flex items-center gap-3",children:[e.jsx(h,{className:"text-gold"}),"Oficina Virtual: ",a.name]}),e.jsx("p",{className:"text-white/60 mt-2",children:"Monitorea la actividad de tus profesores en tiempo real."})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-[#1b1a17] px-4 py-2 rounded-xl border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500"})," Clases"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500"})," Online"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gray-500"})," Offline"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"col-span-1 lg:col-span-2 bg-[#1b1a17] border border-white/5 rounded-2xl p-6 min-h-[400px] relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"32px 32px"}}),e.jsxs("div",{className:"relative z-10 flex items-center gap-2 mb-6",children:[e.jsx(w,{className:"text-red-500"}),e.jsx("h2",{className:"text-xl font-bold",children:"Aulas y Despachos"}),e.jsx("span",{className:"ml-2 bg-white/5 px-2 py-0.5 rounded-full text-xs text-white/40",children:r.length})]}),e.jsx("div",{className:"relative z-10 flex flex-wrap gap-4",children:r.length>0?r.map(d):e.jsx("p",{className:"text-white/30 text-sm italic w-full text-center py-12",children:"Ningún profesor en clase actualmente."})})]}),e.jsxs("div",{className:"col-span-1 flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-[#1b1a17] border border-white/5 rounded-2xl p-6 flex-1 min-h-[250px] relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-500/5 blur-[50px] rounded-full"}),e.jsxs("div",{className:"relative z-10 flex items-center gap-2 mb-6",children:[e.jsx(j,{className:"text-green-500"}),e.jsx("h2",{className:"text-xl font-bold",children:"Lounge"}),e.jsx("span",{className:"ml-2 bg-white/5 px-2 py-0.5 rounded-full text-xs text-white/40",children:n.length})]}),e.jsx("div",{className:"relative z-10 flex flex-wrap gap-4",children:n.length>0?n.map(d):e.jsx("p",{className:"text-white/30 text-sm italic w-full text-center py-8",children:"Lounge vacío."})})]}),e.jsxs("div",{className:"bg-[#1b1a17]/50 border border-white/5 rounded-2xl p-6 relative overflow-hidden opacity-70 hover:opacity-100 transition-opacity",children:[e.jsxs("div",{className:"relative z-10 flex items-center gap-2 mb-6",children:[e.jsx(N,{className:"text-gray-500"}),e.jsx("h2",{className:"text-xl font-bold",children:"Descansando"}),e.jsx("span",{className:"ml-2 bg-white/5 px-2 py-0.5 rounded-full text-xs text-white/40",children:c.length})]}),e.jsx("div",{className:"relative z-10 flex flex-wrap gap-4",children:c.length>0?c.map(d):e.jsx("p",{className:"text-white/30 text-sm italic w-full text-center py-4",children:"Todos están trabajando."})})]})]})]})]})})};export{C as default};
