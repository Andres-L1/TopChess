import{c,a as g,u as f,r as t,j as e,f as n,z as N}from"./index-BkfxViy_.js";import{S as v}from"./shield-DUs5sVaM.js";import{U as y}from"./users-ae2leA7u.js";import{G as w}from"./graduation-cap-Canx0Vu0.js";import{C as S}from"./calendar-CLvqni0F.js";import{C}from"./circle-check-big-hm2LR7uP.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=c("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=c("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=c("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),q=()=>{const{currentUser:a}=g(),d=f(),[r,x]=t.useState({users:0,teachers:0,requests:0}),[m,h]=t.useState([]),[p,b]=t.useState(!0),[l,u]=t.useState("");t.useEffect(()=>{if((a==null?void 0:a.email)!=="andreslgumuzio@gmail.com"){d("/");return}(async()=>{try{const[i,j]=await Promise.all([n.getPlatformStats(),n.getAllUsers()]);x(i),h(j)}catch(i){console.error("Error fetching admin data:",i),N.error("Error cargando datos de administraci贸n")}finally{b(!1)}})()},[a,d]);const o=m.filter(s=>s.name.toLowerCase().includes(l.toLowerCase())||s.email.toLowerCase().includes(l.toLowerCase()));return p?e.jsx("div",{className:"min-h-screen bg-[#161512] flex items-center justify-center text-white",children:"Cargando panel de administraci贸n..."}):e.jsx("div",{className:"min-h-screen bg-[#161512] text-white p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsx(v,{className:"text-gold",size:32}),"Panel de Administraci贸n"]}),e.jsx("p",{className:"text-[#8b8982]",children:"Gesti贸n global de la plataforma TopChess"})]}),e.jsxs("div",{className:"bg-[#262421] px-4 py-2 rounded-lg border border-[#302e2b] flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"text-sm text-[#8b8982]",children:"Sistema Operativo"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"glass-panel p-6 rounded-2xl flex items-center gap-4 border-l-4 border-blue-500",children:[e.jsx("div",{className:"p-3 bg-blue-500/10 text-blue-400 rounded-xl",children:e.jsx(y,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#8b8982] text-sm",children:"Usuarios Totales"}),e.jsx("h3",{className:"text-2xl font-bold",children:r.users})]})]}),e.jsxs("div",{className:"glass-panel p-6 rounded-2xl flex items-center gap-4 border-l-4 border-gold",children:[e.jsx("div",{className:"p-3 bg-gold/10 text-gold rounded-xl",children:e.jsx(w,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#8b8982] text-sm",children:"Profesores"}),e.jsx("h3",{className:"text-2xl font-bold",children:r.teachers})]})]}),e.jsxs("div",{className:"glass-panel p-6 rounded-2xl flex items-center gap-4 border-l-4 border-purple-500",children:[e.jsx("div",{className:"p-3 bg-purple-500/10 text-purple-400 rounded-xl",children:e.jsx(S,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#8b8982] text-sm",children:"Solicitudes/Clases"}),e.jsx("h3",{className:"text-2xl font-bold",children:r.requests})]})]})]}),e.jsxs("div",{className:"glass-panel rounded-2xl overflow-hidden border border-[#302e2b]",children:[e.jsxs("div",{className:"p-6 border-b border-[#302e2b] flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Usuarios Registrados"}),e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#666]",size:18}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre o email...",className:"w-full bg-[#161512] border border-[#302e2b] rounded-lg pl-10 pr-4 py-2 text-sm focus:outline-none focus:border-gold/50 transition-colors",value:l,onChange:s=>u(s.target.value)})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#262421] text-[#8b8982] text-xs uppercase tracking-wider",children:[e.jsx("th",{className:"p-4 font-semibold",children:"Usuario"}),e.jsx("th",{className:"p-4 font-semibold",children:"Rol"}),e.jsx("th",{className:"p-4 font-semibold",children:"Email"}),e.jsx("th",{className:"p-4 font-semibold",children:"Fecha Registro"}),e.jsx("th",{className:"p-4 font-semibold text-right",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-[#302e2b]",children:o.map(s=>e.jsxs("tr",{className:"hover:bg-[#262421]/50 transition-colors",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:s.photoURL||`https://ui-avatars.com/api/?name=${s.name}&background=random`,alt:s.name,className:"w-10 h-10 rounded-full object-cover"}),e.jsx("span",{className:"font-medium text-white",children:s.name})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${s.role==="teacher"?"bg-gold/10 text-gold border border-gold/20":"bg-blue-500/10 text-blue-400 border border-blue-500/20"}`,children:s.role})}),e.jsx("td",{className:"p-4 text-[#bababa]",children:s.email}),e.jsx("td",{className:"p-4 text-[#666] text-sm",children:new Date(s.createdAt).toLocaleDateString()}),e.jsx("td",{className:"p-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"p-2 hover:bg-[#302e2b] rounded-lg text-[#666] hover:text-white transition-colors",title:"Verificar",children:e.jsx(C,{size:18})}),e.jsx("button",{className:"p-2 hover:bg-red-500/10 rounded-lg text-[#666] hover:text-red-500 transition-colors",title:"Banear",children:e.jsx(k,{size:18})}),e.jsx("button",{className:"p-2 hover:bg-[#302e2b] rounded-lg text-[#666] hover:text-white transition-colors",children:e.jsx(z,{size:18})})]})})]},s.id))})]})}),o.length===0&&e.jsx("div",{className:"p-8 text-center text-[#666]",children:"No se encontraron usuarios."})]})]})})};export{q as default};
