import{r as m,j as e,R as h}from"./index-DWN4InSz.js";import{C as j}from"./calendar-bdjVaurD.js";import{C as g}from"./check-BtgYrXrE.js";const f=["Lun","Mar","Mié","Jue","Vie","Sáb","Dom"],b=["09:00","10:00","11:00","12:00","16:00","17:00","18:00","19:00","20:00"],k=({mode:r="view",availability:o=[],bookings:v=[],onSlotClick:d,onSaveAvailability:c})=>{const[n,x]=m.useState(o);m.useEffect(()=>{x(o)},[o]);const p=(t,i)=>{if(r==="edit"){const s=`${t}-${i}`,l=n.includes(s)?n.filter(a=>a!==s):[...n,s];x(l),c&&c(l)}else r==="view"&&d&&d({dayIndex:t,hour:i})},u=(t,i)=>{const s=`${t}-${i}`;return n.includes(s)};return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gold",children:[e.jsx(j,{size:20}),e.jsx("h3",{className:"font-bold text-lg",children:r==="edit"?"Configurar Disponibilidad Semanal":"Próxima Semana"})]}),r==="edit"&&e.jsx("span",{className:"text-xs text-text-muted",children:"Haz clic en las horas para activar/desactivar."})]}),e.jsxs("div",{className:"grid grid-cols-8 gap-1 md:gap-2",children:[e.jsx("div",{className:"text-center font-bold text-text-muted text-xs py-2",children:"H"}),f.map((t,i)=>e.jsx("div",{className:"text-center font-bold text-white text-xs py-2 bg-white/5 rounded-t-lg",children:t},i)),b.map(t=>e.jsxs(h.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center text-[10px] text-text-muted font-mono",children:t}),f.map((i,s)=>{const l=u(s,t);let a="aspect-square rounded-lg border border-white/5 transition-all duration-200 flex items-center justify-center cursor-pointer ";return r==="edit"?l?a+="bg-green-500/20 border-green-500/50 hover:bg-green-500/30 text-green-500":a+="bg-black/20 hover:bg-white/5 text-transparent":l?a+="bg-white/5 hover:bg-gold/20 hover:border-gold/50 text-gold/0 hover:text-gold cursor-pointer":a+="bg-black/40 opacity-50 cursor-not-allowed",e.jsxs("div",{onClick:()=>p(s,t),className:a,children:[r==="edit"&&l&&e.jsx(g,{size:14,strokeWidth:3}),r==="view"&&l&&!0&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-gold animate-pulse"})]},`${s}-${t}`)})]},t))]}),r==="edit"&&e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>c&&c(n),className:"btn-primary flex items-center gap-2",children:[e.jsx(g,{size:16})," Guardar Horario"]})})]})};export{k as C};
