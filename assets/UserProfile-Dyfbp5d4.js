import{c as d,a as b,r as o,j as e,U as f,f as c,z as i}from"./index-C5zu638Z.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=d("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=d("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),w=()=>{const{currentUserId:s}=b(),[a,n]=o.useState({name:"",bio:"",image:"",elo:0}),[x,m]=o.useState(!0);o.useEffect(()=>{s&&(async()=>{try{const t=await c.getUser(s);t&&n({name:t.name||"",bio:t.bio||"",image:t.photoURL||"",elo:t.elo||0})}catch(t){console.error("Error loading profile:",t),i.error("Error al cargar el perfil")}finally{m(!1)}})()},[s]);const l=r=>{const{name:t,value:h}=r.target;n(p=>({...p,[t]:h}))},u=async()=>{try{await c.updateUser(s,{name:a.name,photoURL:a.image,...a.bio?{bio:a.bio}:{}}),i.success("Perfil actualizado correctamente")}catch(r){console.error("Error saving profile:",r),i.error("Error al guardar los cambios")}};return x?e.jsx("div",{className:"text-white p-8",children:"Cargando perfil..."}):e.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto animate-fade-in pb-24",children:[e.jsx("h1",{className:"text-3xl font-bold font-display text-white mb-2",children:"Mi Perfil"}),e.jsx("p",{className:"text-text-muted mb-8",children:"Personaliza tu identidad en la plataforma."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"glass-panel p-6 rounded-2xl flex flex-col items-center text-center h-fit",children:[e.jsxs("div",{className:"relative group mb-4",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-cover bg-center border-4 border-white/5 shadow-2xl",style:{backgroundImage:`url(${a.image})`}}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:e.jsx(g,{className:"text-white"})})]}),e.jsx("h2",{className:"text-xl font-bold text-white",children:a.name}),a.elo>0&&e.jsxs("p",{className:"text-gold font-mono text-sm mb-4",children:["ELO ",a.elo]}),e.jsx("div",{className:"w-full pt-4 border-t border-white/5 space-y-2",children:e.jsxs("div",{className:"flex justify-between text-xs text-text-muted",children:[e.jsx("span",{children:"ID Usuario"}),e.jsx("span",{className:"font-mono text-white opacity-50 truncate max-w-[100px]",children:s})]})})]}),e.jsxs("div",{className:"md:col-span-2 glass-panel p-6 rounded-2xl",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(f,{size:18,className:"text-gold"})," Información Personal"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-text-muted uppercase tracking-wider mb-2",children:"Nombre Visible"}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:l,className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-gold/50 focus:outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-text-muted uppercase tracking-wider mb-2",children:"Biografía"}),e.jsx("textarea",{name:"bio",value:a.bio||"",onChange:l,rows:4,className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-gold/50 focus:outline-none transition-colors",placeholder:"Cuéntanos sobre tu experiencia en ajedrez..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-text-muted uppercase tracking-wider mb-2",children:"URL de Avatar"}),e.jsx("input",{type:"text",name:"image",value:a.image,onChange:l,className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white text-xs font-mono focus:border-gold/50 focus:outline-none transition-colors"}),e.jsx("p",{className:"text-[10px] text-text-muted mt-1",children:"Usa una URL de imagen válida (ej. Unsplash)."})]}),e.jsx("div",{className:"pt-4 flex justify-end",children:e.jsxs("button",{onClick:u,className:"btn-primary flex items-center gap-2 px-6",children:[e.jsx(j,{size:18})," Guardar Cambios"]})})]})]})]})]})};export{w as default};
