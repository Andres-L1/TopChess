import{c as k,a as S,r as m,j as e,f as g,z as j,u as I,R as T,U as C}from"./index-OgmrRwAe.js";import{C as P}from"./check-BEvIrCkd.js";import{C as A}from"./chevron-left-BuyXhU8v.js";import{C as R}from"./chevron-right-D4TxJTDI.js";import{G as z}from"./graduation-cap-BmPTfeKR.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=k("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=k("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),b=[{id:"region",question:"¬øDesde d√≥nde ense√±ar√°s?",subtitle:"Esto determinar√° tu tarifa base y moneda.",options:[{value:"EU",label:"Espa√±a / Europa",desc:"Tarifa Mensual: 59‚Ç¨ / alumno",icon:"üá™üá∫"},{value:"LATAM",label:"Latinoam√©rica / Internacional",desc:"Tarifa Mensual: $39 USD / alumno",icon:"üåé"}]},{id:"experience",question:"Tu experiencia en Ajedrez",subtitle:"Para asignarte el nivel de alumnos adecuado.",options:[{value:"master",label:"Maestro (2000+ ELO)",desc:"Titulado FIDE o experto online."},{value:"coach",label:"Instructor (1500-2000 ELO)",desc:"Jugador de club con experiencia ense√±ando."},{value:"monitor",label:"Monitor (<1500 ELO)",desc:"Ideal para iniciaci√≥n y ni√±os."}]},{id:"style",question:"¬øCu√°l es tu estilo de ense√±anza?",options:[{value:"analytical",label:"Anal√≠tico y Riguroso",desc:"Mucho an√°lisis profundo y estudio serio."},{value:"dynamic",label:"Din√°mico y Divertido",desc:"Clases r√°pidas, pr√°cticas y entretenidas."},{value:"patient",label:"Paciente y Comprensivo",desc:"Ir paso a paso sin prisas."}]}],q=({onComplete:v})=>{const{currentUserId:n,currentUser:s}=S(),[l,i]=m.useState(0),[r,d]=m.useState({}),[f,x]=m.useState(!1),h=a=>{const t=b[l].id;d(o=>({...o,[t]:a}))},w=async()=>{if(l<b.length-1)i(a=>a+1);else{x(!0);try{const a=r.region,t=a==="EU"?59:39,o=a==="EU"?"EUR":"USD",N={id:n,name:(s==null?void 0:s.displayName)||"Profesor",elo:r.experience==="master"?2200:r.experience==="coach"?1700:1400,price:t,currency:o,region:a,commissionRate:.5,classesGiven:0,earnings:0,description:`Profesor especializado en metodolog√≠a ${r.style}.`,image:(s==null?void 0:s.photoURL)||"https://via.placeholder.com/150",tags:[r.style,r.experience],teachingStyle:r.style,curriculum:"Personalizado bas√°ndome en tus objetivos.",experienceYears:r.experience==="master"?10:2,achievements:[]};if(await g.createTeacherProfile(N),await g.getUser(n))await g.updateUser(n,{role:"teacher"});else{const U={id:n,email:(s==null?void 0:s.email)||"",name:(s==null?void 0:s.displayName)||"Profesor",role:"teacher",photoURL:(s==null?void 0:s.photoURL)||"",createdAt:Date.now(),walletBalance:0,currency:"EUR"};await g.createUser(U)}j.success("¬°Perfil de Profesor creado!"),v()}catch(a){console.error("Error creating profile:",a),j.error("Error al crear perfil")}finally{x(!1)}}},y=()=>{l>0&&i(a=>a-1)},c=b[l],u=r[c.id];return e.jsxs("div",{className:"w-full bg-[#262421] border border-gold/20 rounded-2xl shadow-2xl overflow-hidden flex flex-col relative h-auto md:min-h-[600px]",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gold/20 to-[#262421] p-4 flex items-center gap-3 border-b border-gold/10",children:[e.jsx("div",{className:"bg-gold text-black rounded-full p-1.5 shadow-lg shadow-gold/20",children:e.jsx(L,{size:16})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gold font-bold text-sm",children:"Sistema de Progresi√≥n Activo"}),e.jsxs("div",{className:"text-xs text-[#bababa]",children:["Empiezas ganando el ",e.jsx("span",{className:"text-white font-bold",children:"50%"}),". ¬°Desbloquea hasta el ",e.jsx("span",{className:"text-green-400 font-bold",children:"85%"})," ense√±ando! üöÄ"]})]})]}),e.jsxs("div",{className:"p-8 flex flex-col h-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("span",{className:"text-gold text-xs font-bold uppercase tracking-widest mb-2 block",children:["Paso ",l+1," de ",b.length]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white tracking-tight",children:c.question}),c.subtitle&&e.jsx("p",{className:"text-[#8b8982] mt-2 text-lg",children:c.subtitle})]}),e.jsx("div",{className:"flex-1 space-y-3 overflow-y-auto mb-8 pr-2 custom-scrollbar",children:c.options.map(a=>{const t=r[c.id]===a.value;return e.jsxs("button",{onClick:()=>h(a.value),className:`w-full text-left p-6 rounded-xl border transition-all duration-200 group relative overflow-hidden flex items-center gap-4
                                    ${t?"bg-gold/10 border-gold/50 shadow-[0_0_15px_rgba(212,175,55,0.1)]":"bg-white/5 border-white/5 hover:border-white/20 hover:bg-white/10"}
                                `,children:[a.icon&&e.jsx("span",{className:"text-3xl",children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-bold text-lg mb-1 ${t?"text-gold":"text-white"}`,children:a.label}),e.jsx("div",{className:"text-sm text-[#bababa] font-light flex items-center gap-2",children:a.desc})]}),t&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-gold flex items-center justify-center text-black shadow-lg",children:e.jsx(P,{size:14,strokeWidth:3})})]},a.value)})}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-white/5",children:[e.jsxs("button",{onClick:y,disabled:l===0,className:`text-[#8b8982] hover:text-white px-4 py-2 text-sm font-medium transition-colors flex items-center gap-1 ${l===0?"opacity-0":""}`,children:[e.jsx(A,{size:16})," Atr√°s"]}),e.jsxs("button",{onClick:w,disabled:!u,className:`px-8 py-3 rounded-full font-bold uppercase text-xs tracking-widest transition-all flex items-center gap-2
                            ${u?"bg-gold text-black hover:bg-gold-hover shadow-lg hover:shadow-gold/20 transform hover:-translate-y-0.5":"bg-white/5 text-white/20 cursor-not-allowed"}
                        `,children:[l===b.length-1?f?"Finalizar":"Crear Perfil":"Siguiente",l<b.length-1&&e.jsx(R,{size:16})]})]})]})]})},p=[{id:"level",question:"¬øCu√°l es tu nivel aproximado de ajedrez?",options:[{value:"beginner",label:"Principiante",desc:"Conozco las reglas, pocas partidas."},{value:"intermediate",label:"Intermedio (Club)",desc:"Juego torneos o online frecuentemente (1000-1500 ELO)."},{value:"advanced",label:"Avanzado",desc:"Jugador de torneo fuerte (>1500 ELO)."}]},{id:"goals",question:"¬øQu√© aspecto quieres mejorar m√°s?",options:[{value:"tactics",label:"T√°ctica y C√°lculo",desc:"Dejar de cometer errores graves."},{value:"openings",label:"Aperturas",desc:"Tener un plan s√≥lido al inicio."},{value:"endgame",label:"Finales",desc:"Ganar partidas igualadas."},{value:"strategy",label:"Estrategia",desc:"Planes a largo plazo y posicionamiento."}]},{id:"style",question:"¬øC√≥mo prefieres las clases?",options:[{value:"active",label:"Pr√°ctica Activa",desc:"Jugar, analizar y resolver ejercicios."},{value:"theory",label:"Teor√≠a y An√°lisis",desc:"Estudiar partidas y conceptos profundos."},{value:"mixed",label:"H√≠brido",desc:"Un poco de todo."}]}],$=({onComplete:v})=>{const{currentUserId:n,currentUser:s,setUserRole:l}=S(),[i,r]=m.useState(0),[d,f]=m.useState({}),[x,h]=m.useState(!1),w=t=>{const o=p[i].id;f(N=>({...N,[o]:t}))},y=async()=>{if(i<p.length-1)r(t=>t+1);else{h(!0);try{const t={id:n,email:(s==null?void 0:s.email)||"",name:(s==null?void 0:s.displayName)||"Estudiante",role:"student",photoURL:(s==null?void 0:s.photoURL)||"",createdAt:Date.now(),walletBalance:0,currency:"EUR",elo:d.level==="beginner"?600:d.level==="intermediate"?1200:1600,learningGoals:[d.goals],preferredStyle:d.style};await g.createUser(t),l("student"),j.success("¬°Perfil de estudiante creado!"),v()}catch(t){console.error("Error creating student profile:",t),j.error("Error al crear perfil")}finally{h(!1)}}},c=()=>{i>0&&r(t=>t-1)},u=p[i],a=d[u.id];return e.jsxs("div",{className:"w-full bg-[#262421] border border-[#302e2b] rounded-2xl shadow-2xl overflow-hidden flex flex-col h-auto md:h-[600px]",children:[e.jsxs("div",{className:"bg-[#1e1d1b] p-6 border-b border-[#302e2b] flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/10 text-blue-400 flex items-center justify-center",children:e.jsx(z,{size:16})}),e.jsx("span",{className:"font-bold text-white",children:"Configuraci√≥n de Alumno"})]}),e.jsx("div",{className:"flex gap-1",children:p.map((t,o)=>e.jsx("div",{className:`h-1.5 w-6 rounded-full transition-colors ${o<=i?"bg-blue-500":"bg-[#302e2b]"}`},o))})]}),e.jsxs("div",{className:"p-8 flex flex-col h-full overflow-y-auto custom-scrollbar",children:[e.jsx("div",{className:"mb-8 text-center",children:e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:u.question})}),e.jsx("div",{className:"grid gap-3 max-w-md mx-auto w-full",children:u.options.map(t=>{const o=d[u.id]===t.value;return e.jsx("button",{onClick:()=>w(t.value),className:`w-full text-left p-4 rounded-xl border transition-all duration-200 group relative
                                    ${o?"bg-blue-500/10 border-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.2)]":"bg-[#302e2b]/50 border-transparent hover:border-[#403d39] hover:bg-[#302e2b]"}
                                `,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-bold text-lg ${o?"text-blue-400":"text-white"}`,children:t.label}),e.jsx("div",{className:"text-sm text-[#8b8982]",children:t.desc})]}),o&&e.jsx(P,{size:20,className:"text-blue-400"})]})},t.value)})}),e.jsxs("div",{className:"mt-auto pt-8 flex justify-between items-center max-w-md mx-auto w-full",children:[e.jsxs("button",{onClick:c,disabled:i===0,className:`text-[#8b8982] hover:text-white px-4 py-2 text-sm font-medium transition-colors flex items-center gap-1
                            ${i===0?"opacity-0 pointer-events-none":""}
                        `,children:[e.jsx(A,{size:16})," Atr√°s"]}),e.jsx("button",{onClick:y,disabled:!a||x,className:`px-8 py-3 rounded-xl font-bold transition-all flex items-center gap-2
                            ${a?"bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-900/20":"bg-[#302e2b] text-[#666] cursor-not-allowed"}
                        `,children:x?e.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[i===p.length-1?"Finalizar":"Siguiente",i<p.length-1&&e.jsx(R,{size:16})]})})]})]})]})},G=()=>{const{currentUser:v,userRole:n,setUserRole:s}=S(),l=I(),[i,r]=m.useState("selection");T.useEffect(()=>{n==="teacher"&&l("/dashboard"),n==="student"&&l("/student-dashboard")},[n,l]);const d=()=>{r("student_wizard")},f=()=>{l("/student-dashboard")},x=()=>{r("teacher_wizard")},h=()=>{s("teacher"),l("/dashboard")};return i==="student_wizard"?e.jsx("div",{className:"min-h-screen bg-[#161512] flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-2xl w-full",children:e.jsx($,{onComplete:f})})}):i==="teacher_wizard"?e.jsx("div",{className:"min-h-screen bg-[#161512] flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-2xl w-full",children:e.jsx(q,{onComplete:h})})}):e.jsxs("div",{className:"min-h-screen bg-[#161512] flex flex-col items-center justify-center p-4 text-center",children:[e.jsxs("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-4 animate-fade-in",children:["Bienvenido a ",e.jsx("span",{className:"text-gold",children:"TopChess"})]}),e.jsx("p",{className:"text-[#8b8982] text-lg mb-12 max-w-md mx-auto animate-fade-in delay-100",children:"Para comenzar, cu√©ntanos c√≥mo te gustar√≠a usar la plataforma."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-3xl animate-enter delay-200",children:[e.jsxs("button",{onClick:d,className:"group bg-[#262421] hover:bg-[#302e2b] border border-white/5 hover:border-gold/30 rounded-2xl p-8 transition-all flex flex-col items-center gap-6 text-left relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:e.jsx(z,{size:120})}),e.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-500/10 text-blue-400 flex items-center justify-center mb-2 group-hover:scale-110 transition-transform",children:e.jsx(z,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Quiero Aprender"}),e.jsx("p",{className:"text-[#8b8982] text-sm",children:"Busco profesores, quiero tomar clases y mejorar mi nivel de ajedrez."})]}),e.jsxs("div",{className:"mt-auto w-full flex items-center justify-between text-blue-400 font-bold text-sm",children:[e.jsx("span",{children:"Continuar como Estudiante"}),e.jsx(E,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})]}),e.jsxs("button",{onClick:x,className:"group bg-[#262421] hover:bg-[#302e2b] border border-white/5 hover:border-gold/30 rounded-2xl p-8 transition-all flex flex-col items-center gap-6 text-left relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:e.jsx(C,{size:120})}),e.jsx("div",{className:"w-16 h-16 rounded-full bg-gold/10 text-gold flex items-center justify-center mb-2 group-hover:scale-110 transition-transform",children:e.jsx(C,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Quiero Ense√±ar"}),e.jsx("p",{className:"text-[#8b8982] text-sm",children:"Soy profesor o jugador experto y quiero ofrecer clases a estudiantes."})]}),e.jsxs("div",{className:"mt-auto w-full flex items-center justify-between text-gold font-bold text-sm",children:[e.jsx("span",{children:"Crear Perfil de Profesor"}),e.jsx(E,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})]})]})]})};export{G as default};
