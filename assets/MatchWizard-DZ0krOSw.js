import{c as C,a as z,r as u,j as e,f as p,z as f}from"./index-DP2pZohF.js";import{C as S}from"./check-DDJneRLr.js";import{C as k}from"./chevron-right-9d3lIEif.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=C("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),i=[{id:"level",question:"¿Cuál es tu nivel actual de ajedrez?",options:[{value:"beginner",label:"Principiante (<1000 ELO)",desc:"Conozco las reglas pero quiero mejorar mi visión."},{value:"intermediate",label:"Intermedio (1000-1800 ELO)",desc:"Juego torneos o online regularmente."},{value:"advanced",label:"Avanzado (>1800 ELO)",desc:"Busco perfeccionar mi repertorio y estrategia."}]},{id:"goal",question:"¿Qué es lo que más quieres mejorar?",options:[{value:"tactics",label:"Táctica y Cálculo",desc:"No dejarme piezas y ver combinaciones."},{value:"openings",label:"Aperturas",desc:"Construir un repertorio sólido."},{value:"endgame",label:"Finales",desc:"Convertir ventajas en victorias."},{value:"strategy",label:"Estrategia Posicional",desc:"Entender los planes a largo plazo."},{value:"psychology",label:"Psicología",desc:"Manejo de nervios y competición."}]},{id:"style",question:"¿Qué estilo de enseñanza prefieres?",options:[{value:"analytical",label:"Analítico y Riguroso",desc:"Mucho análisis profundo y estudio serio."},{value:"dynamic",label:"Dinámico y Divertido",desc:"Clases rápidas, prácticas y entretenidas."},{value:"patient",label:"Paciente y Comprensivo",desc:"Ir paso a paso sin prisas."}]}],L=({onComplete:b})=>{const{currentUserId:h,currentUser:n}=z(),[o,x]=u.useState(0),[a,v]=u.useState({}),[j,m]=u.useState(!1),w=s=>{const t=i[o].id;v(l=>{const c=l[t]||[];return c.includes(s)?{...l,[t]:c.filter(r=>r!==s)}:{...l,[t]:[...c,s]}})},y=async()=>{var s,t,l,c;if(o<i.length-1)x(r=>r+1);else{m(!0);try{const r={id:h,name:(n==null?void 0:n.displayName)||"Profesor",elo:(s=a.level)!=null&&s.includes("advanced")?2e3:1500,price:20,classesGiven:0,earnings:0,description:`Profesor especializado en ${(t=a.style)==null?void 0:t.join(", ")}. Enfocado en ${(l=a.goal)==null?void 0:l.join(", ")}.`,image:(n==null?void 0:n.photoURL)||"https://via.placeholder.com/150",tags:[...a.goal||[],...a.style||[]],teachingStyle:((c=a.style)==null?void 0:c.join(", "))||"Standard",curriculum:"Personalizado basándome en tus objetivos."};await p.createTeacherProfile(r),await p.updateUser(h,{role:"teacher"}),f.success("Perfil de profesor creado con éxito!"),b()}catch(r){console.error("Error creating profile:",r),f.error("Error al crear perfil")}finally{m(!1)}}},N=()=>{o>0&&x(s=>s-1)},d=i[o],g=a[d.id]&&a[d.id].length>0;return e.jsxs("div",{className:"w-full bg-dark-panel border border-gold/20 rounded-2xl shadow-2xl overflow-hidden flex flex-col relative h-[600px] md:h-auto md:min-h-[500px]",children:[e.jsx("div",{className:"h-1 bg-white/5 w-full",children:e.jsx("div",{className:"h-full bg-gold transition-all duration-300 ease-out shadow-[0_0_10px_rgba(212,175,55,0.5)]",style:{width:`${(o+1)/i.length*100}%`}})}),e.jsxs("div",{className:"p-8 flex flex-col h-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("span",{className:"text-gold text-xs font-bold uppercase tracking-widest mb-2 block",children:["Paso ",o+1," de ",i.length]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white tracking-tight",children:d.question})]}),e.jsx("div",{className:"flex-1 space-y-3 overflow-y-auto mb-8 pr-2 custom-scrollbar",children:d.options.map(s=>{var l;const t=(l=a[d.id])==null?void 0:l.includes(s.value);return e.jsx("button",{onClick:()=>w(s.value),className:`w-full text-left p-4 rounded-xl border transition-all duration-200 group relative overflow-hidden
                                    ${t?"bg-gold/10 border-gold/50 shadow-[0_0_15px_rgba(212,175,55,0.1)]":"bg-white/5 border-white/5 hover:border-white/20 hover:bg-white/10"}
                                `,children:e.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-bold text-lg mb-1 ${t?"text-gold":"text-white"}`,children:s.label}),e.jsx("div",{className:"text-sm text-text-secondary font-light",children:s.desc})]}),t&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-gold flex items-center justify-center text-black shadow-lg",children:e.jsx(S,{size:14,strokeWidth:3})})]})},s.value)})}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-white/5",children:[e.jsxs("button",{onClick:N,className:"text-text-muted hover:text-white px-4 py-2 text-sm font-medium transition-colors flex items-center gap-1",children:[e.jsx(P,{size:16})," Atrás"]}),e.jsxs("button",{onClick:y,disabled:!g,className:`px-8 py-3 rounded-full font-bold uppercase text-xs tracking-widest transition-all flex items-center gap-2
                            ${g?"bg-gold text-black hover:bg-gold-hover shadow-lg hover:shadow-gold/20 transform hover:-translate-y-0.5":"bg-white/5 text-white/20 cursor-not-allowed"}
                        `,children:[o===i.length-1?j?"Guardando...":"Crear Perfil":"Siguiente",o<i.length-1&&e.jsx(k,{size:16})]})]})]})]})};export{L as M};
