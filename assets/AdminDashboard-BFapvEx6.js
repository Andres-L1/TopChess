import{c as w,a as M,u as B,b as V,r as n,f as o,j as e,S as q,z as g}from"./index-DryVaIz4.js";import{A as k}from"./activity-BrqNjcCg.js";import{U as f}from"./users-Cj0eupKG.js";import{G as N}from"./graduation-cap-DHz79CUz.js";import{C as G}from"./calendar-LOVJi23A.js";import{D as y}from"./dollar-sign-Dooe7qph.js";import{C as H}from"./circle-check-big-CaMcDJWc.js";import{a as P,A as O}from"./arrow-up-right-w8HTqwME.js";import{C as Z}from"./chevron-right-D9NyYdLI.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=w("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=w("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=w("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),re=()=>{const{currentUser:i}=M(),d=B(),{t}=V(),[a,m]=n.useState({users:0,teachers:0,requests:0,revenue:0}),[j,T]=n.useState([]),[z,_]=n.useState([]),[L,A]=n.useState([]),[$,v]=n.useState(!0),[h,F]=n.useState(""),[r,p]=n.useState("users");n.useEffect(()=>{if((i==null?void 0:i.email)!=="andreslgumuzio@gmail.com"){d("/");return}v(!0);const s=o.subscribeToCollection("users",c=>{T(c)}),l=o.subscribeToCollection("teachers",c=>{_(c)}),x=o.subscribeToCollection("transactions",c=>{A(c)});return(async()=>{const c=await o.getPlatformStats();m(c),v(!1)})(),()=>{s(),l(),x()}},[i,d]);const I=async(s,l)=>{try{await o.verifyTeacher(s,!l),g.success(t(l?"admin.messages.verif_removed":"admin.messages.verif_added"))}catch{g.error(t("admin.messages.verif_error"))}},R=async(s,l)=>{const x=l==="banned";try{await o.banUser(s,!x),g.success(t(x?"admin.messages.user_unbanned":"admin.messages.user_banned"))}catch{g.error(t("admin.messages.status_error"))}},E=j.filter(s=>s.name.toLowerCase().includes(h.toLowerCase())||s.email.toLowerCase().includes(h.toLowerCase())),U=z.filter(s=>s.name.toLowerCase().includes(h.toLowerCase()));return $?e.jsx("div",{className:"min-h-screen bg-[#161512] flex items-center justify-center text-gold font-bold uppercase tracking-widest text-xs animate-pulse",children:t("admin.loading")}):e.jsx("div",{className:"min-h-screen bg-[#0a0a0a] text-white p-4 md:p-8 font-sans pb-24",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-gold to-orange-500 rounded-xl blur opacity-25 group-hover:opacity-40 transition duration-1000"}),e.jsx("div",{className:"relative p-3 bg-[#111] rounded-xl border border-white/10 shadow-2xl",children:e.jsx(q,{className:"text-gold h-8 w-8"})})]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tighter flex items-center gap-3",children:["Control ",e.jsx("span",{className:"text-gold",children:"Central"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-text-muted",children:[e.jsx(k,{size:12,className:"text-green-500"}),e.jsxs("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:["Sistema Operativo • ",a.users+a.teachers," Entidades"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"glass-panel px-4 py-2 rounded-xl flex items-center gap-3 border-white/5 bg-white/[0.02]",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_12px_rgba(34,197,94,0.5)] animate-pulse"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-[#8b8982]",children:"Respuesta: 24ms"})]}),e.jsx("button",{className:"p-2.5 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 transition-all text-text-muted hover:text-white",children:e.jsx(S,{size:18})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[e.jsx(b,{icon:f,label:"Estudiantes",value:a.users,trend:"+12%",color:"blue"}),e.jsx(b,{icon:N,label:"Mentores",value:a.teachers,trend:"+2",color:"gold"}),e.jsx(b,{icon:G,label:"Clases",value:a.requests,trend:"En curso",color:"purple"}),e.jsx(b,{icon:y,label:"Ingresos Mensuales",value:`${a.revenue.toFixed(2)}€`,trend:"+24.5%",color:"green"})]}),e.jsx("div",{className:"flex p-1 bg-[#111] rounded-2xl border border-white/5 w-full md:w-fit overflow-x-auto hide-scrollbar scrollbar-hide shadow-xl",children:e.jsxs("div",{className:"flex min-w-max",children:[e.jsx(u,{active:r==="users",onClick:()=>p("users"),icon:f,label:"Gestión de Usuarios"}),e.jsx(u,{active:r==="teachers",onClick:()=>p("teachers"),icon:N,label:"Cuerpo Docente"}),e.jsx(u,{active:r==="payments",onClick:()=>p("payments"),icon:J,label:"Transacciones"}),e.jsx(u,{active:r==="analytics",onClick:()=>p("analytics"),icon:k,label:"Analíticas"})]})}),e.jsxs("div",{className:"glass-panel rounded-2xl overflow-hidden border border-white/5 shadow-2xl animate-fade-in",children:[e.jsxs("div",{className:"p-6 border-b border-[#302e2b] flex flex-col md:flex-row justify-between items-center gap-4 bg-white/5",children:[e.jsxs("h2",{className:"text-xl font-bold uppercase tracking-tight flex items-center gap-2",children:[r==="users"&&e.jsxs(e.Fragment,{children:[e.jsx(f,{size:20,className:"text-blue-400"})," ",t("admin.titles.users")]}),r==="teachers"&&e.jsxs(e.Fragment,{children:[e.jsx(N,{size:20,className:"text-gold"})," ",t("admin.titles.teachers")]}),r==="payments"&&e.jsxs(e.Fragment,{children:[e.jsx(y,{size:20,className:"text-green-400"})," ",t("admin.titles.payments")]})]}),e.jsxs("div",{className:"relative w-full md:w-80",children:[e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#666]",size:16}),e.jsx("input",{type:"text",placeholder:t("admin.filter"),className:"w-full bg-[#161512] border border-[#302e2b] rounded-xl pl-10 pr-4 py-2.5 text-sm focus:outline-none focus:border-gold/50 transition-all placeholder:text-[#444]",value:h,onChange:s=>F(s.target.value)})]})]}),e.jsxs("div",{className:"overflow-x-auto min-h-[400px]",children:[r==="users"&&e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-white/[0.02] text-text-muted text-[10px] uppercase font-black tracking-widest border-b border-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 md:p-6 italic font-mono tracking-tighter",children:"Identidad"}),e.jsx("th",{className:"p-4 md:p-6 italic font-mono tracking-tighter",children:"Privilegios"}),e.jsx("th",{className:"p-4 md:p-6 italic font-mono tracking-tighter",children:"Activos"}),e.jsx("th",{className:"p-4 md:p-6 italic font-mono tracking-tighter",children:"Estado"}),e.jsx("th",{className:"p-4 md:p-6 text-right italic font-mono tracking-tighter",children:"Acción"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5",children:E.map(s=>{var l;return e.jsxs("tr",{className:"hover:bg-white/[0.01] transition-colors group",children:[e.jsx("td",{className:"p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.photoURL||`https://ui-avatars.com/api/?name=${s.name}&background=random`,alt:"",className:"w-10 h-10 rounded-xl object-cover ring-1 ring-white/10 group-hover:ring-gold/30 transition-all shadow-xl"}),s.status==="banned"&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 rounded-full p-1 border-2 border-[#111]",children:e.jsx(C,{size:8,className:"text-white"})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-bold text-white tracking-tight text-sm",children:s.name}),e.jsx("span",{className:"text-[10px] text-text-muted font-mono lowercase",children:s.email})]})]})}),e.jsx("td",{className:"p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.role==="teacher"?"bg-gold shadow-[0_0_8px_rgba(212,175,55,0.5)]":"bg-blue-400"}`}),e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${s.role==="teacher"?"text-gold":"text-blue-400"}`,children:s.role})]})}),e.jsx("td",{className:"p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-white",children:[e.jsx("span",{className:"text-green-500",children:"€"}),((l=s.walletBalance)==null?void 0:l.toFixed(2))||"0.00"]})}),e.jsx("td",{className:"p-4 md:p-6",children:e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full border ${s.status==="banned"?"bg-red-500/10 text-red-500 border-red-500/20":"bg-green-500/10 text-green-500 border-green-500/20"}`,children:s.status==="banned"?"Restringido":"Operativo"})}),e.jsx("td",{className:"p-4 md:p-6 text-right",children:e.jsx("button",{onClick:()=>R(s.id,s.status||"active"),className:`p-2.5 rounded-xl transition-all border ${s.status==="banned"?"bg-green-500/10 text-green-500 border-green-500/20 hover:bg-green-500/20":"bg-red-500/10 text-red-500 border-red-500/20 hover:bg-red-500/20"}`,children:e.jsx(C,{size:16})})})]},s.id)})})]}),r==="teachers"&&e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-white/[0.02] text-text-muted text-[10px] uppercase font-black tracking-widest border-b border-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 md:p-6 italic font-mono tracking-tighter",children:"Mentor"}),e.jsx("th",{className:"p-4 md:p-6 italic font-mono tracking-tighter",children:"Región"}),e.jsx("th",{className:"p-4 md:p-6 italic font-mono tracking-tighter",children:"Tarifa / Comisión"}),e.jsx("th",{className:"p-4 md:p-6 italic font-mono tracking-tighter",children:"Rendimiento"}),e.jsx("th",{className:"p-4 md:p-6 text-right italic font-mono tracking-tighter",children:"Estatus"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5",children:U.map(s=>e.jsxs("tr",{className:"hover:bg-white/[0.01] transition-colors group",children:[e.jsx("td",{className:"p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.image,className:"w-12 h-12 rounded-xl object-cover grayscale group-hover:grayscale-0 transition-all border border-white/5 shadow-lg group-hover:scale-105 duration-500",alt:""}),s.isVerified&&e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-gold rounded-full p-1 border-2 border-[#111] shadow-[0_0_10px_rgba(212,175,55,0.4)]",children:e.jsx(H,{size:10,className:"text-black"})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-bold text-white tracking-tight group-hover:text-gold transition-colors",children:s.name}),e.jsx("span",{className:"text-[10px] text-text-muted font-mono lowercase",children:s.teachingStyle})]})]})}),e.jsx("td",{className:"p-4 md:p-6",children:e.jsx("span",{className:"text-xs font-medium text-text-muted border border-white/5 bg-white/[0.02] px-2.5 py-1 rounded-lg",children:s.region})}),e.jsx("td",{className:"p-4 md:p-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm font-bold text-white",children:[s.price,"€",e.jsx("span",{className:"text-[10px] font-normal text-text-muted ml-1",children:"/h"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-gold"}),e.jsxs("span",{className:"text-[10px] text-gold font-black uppercase tracking-widest",children:[s.commissionRate*100,"% Fee"]})]})]})}),e.jsx("td",{className:"p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase font-black tracking-widest mb-0.5",children:"Clases"}),e.jsx("p",{className:"text-sm font-bold text-white",children:s.classesGiven})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase font-black tracking-widest mb-0.5",children:"Ingresos"}),e.jsxs("p",{className:"text-sm font-bold text-green-400",children:[s.earnings.toFixed(2),"€"]})]})]})}),e.jsx("td",{className:"p-4 md:p-6 text-right",children:e.jsx("button",{onClick:()=>I(s.id,s.isVerified||!1),className:`px-4 py-2 rounded-xl text-[10px] font-black tracking-widest uppercase transition-all border ${s.isVerified?"bg-gold text-black border-gold shadow-lg shadow-gold/10":"bg-white/5 text-white/40 border-white/10 hover:border-gold/50 hover:text-gold"}`,children:s.isVerified?"Verificado":"Pendiente"})})]},s.id))})]}),r==="payments"&&e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-white/[0.02] text-text-muted text-[10px] uppercase font-black tracking-widest border-b border-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 md:p-6 italic font-mono tracking-tighter",children:"Evento"}),e.jsx("th",{className:"p-4 md:p-6 italic font-mono tracking-tighter",children:"Cuantía"}),e.jsx("th",{className:"p-4 md:p-6 italic font-mono tracking-tighter",children:"Cronología"}),e.jsx("th",{className:"p-4 md:p-6 italic font-mono tracking-tighter",children:"Ruta"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5",children:L.map(s=>e.jsxs("tr",{className:"hover:bg-white/[0.01] transition-colors group",children:[e.jsx("td",{className:"p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-xl ${s.type==="deposit"?"bg-blue-500/10 text-blue-400":"bg-green-500/10 text-green-400"} border border-white/5`,children:s.type==="deposit"?e.jsx(P,{size:16}):e.jsx(O,{size:16})}),e.jsx("span",{className:"text-sm font-bold text-white tracking-tight",children:s.description})]})}),e.jsx("td",{className:"p-4 md:p-6",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:`text-sm font-mono font-bold ${s.description.includes("Comisión")?"text-gold":"text-white"}`,children:[s.amount>0?"+":"",s.amount.toFixed(2),"€"]})})}),e.jsx("td",{className:"p-4 md:p-6",children:e.jsxs("div",{className:"flex flex-col text-[10px] text-text-muted font-mono uppercase tracking-widest",children:[e.jsx("span",{className:"font-bold text-white/40",children:new Date(s.timestamp).toLocaleDateString()}),e.jsx("span",{children:new Date(s.timestamp).toLocaleTimeString()})]})}),e.jsx("td",{className:"p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-mono text-white/20",children:[e.jsx("span",{className:"truncate max-w-[80px] hover:text-white/50 cursor-help",title:s.fromId,children:s.fromId}),e.jsx(Z,{size:10}),e.jsx("span",{className:"truncate max-w-[80px] hover:text-white/50 cursor-help",title:s.toId,children:s.toId})]})})]},s.id))})]})]})]})]})})},b=({icon:i,label:d,value:t,color:a,trend:m})=>{const j={blue:"border-blue-500/30 text-blue-400 bg-blue-500/5",gold:"border-gold/30 text-gold bg-gold/5",purple:"border-purple-500/30 text-purple-400 bg-purple-500/5",green:"border-green-500/30 text-green-400 bg-green-500/5"};return e.jsxs("div",{className:`glass-panel p-6 rounded-2xl flex flex-col gap-4 border border-white/5 shadow-2xl transition-all hover:scale-[1.02] hover:border-white/10 ${j[a]}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"p-2.5 rounded-xl bg-white/5",children:e.jsx(i,{size:20})}),m&&e.jsx("span",{className:"text-[10px] font-black px-2 py-0.5 rounded-full bg-white/5 border border-white/5 text-white/50 lowercase tracking-widest",children:m})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-text-muted text-[10px] font-black uppercase tracking-[0.2em] mb-1",children:d}),e.jsx("h3",{className:"text-2xl font-bold tracking-tighter text-white",children:t})]})]})},u=({active:i,onClick:d,icon:t,label:a})=>e.jsxs("button",{onClick:d,className:`flex items-center gap-3 px-6 py-3 rounded-xl transition-all text-[10px] font-black uppercase tracking-widest ${i?"bg-gold text-black shadow-lg shadow-gold/20 scale-[1.02]":"text-text-muted hover:text-white hover:bg-white/5"}`,children:[e.jsx(t,{size:14,className:i?"text-black":"text-gold"}),a]});export{re as default};
