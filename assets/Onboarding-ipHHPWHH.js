import{c as R,a as E,r as u,j as e,f as p,z as v,u as q,R as I,U as z}from"./index-DgiCEtJw.js";import{T as L}from"./trending-up-CtuBDPm1.js";import{C as k}from"./check-BCYyC4Nq.js";import{C as P}from"./chevron-left-Bn_HiYbN.js";import{C as T}from"./chevron-right-C5hklu45.js";import{G as C}from"./graduation-cap-BObnY3cZ.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=R("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),h=[{id:"region",question:"Â¿Desde dÃ³nde enseÃ±arÃ¡s?",subtitle:"Esto determinarÃ¡ tu tarifa base y moneda.",options:[{value:"EU",label:"EspaÃ±a / Europa",desc:"Tarifa Mensual: 59â‚¬ / alumno",icon:"ðŸ‡ªðŸ‡º"},{value:"LATAM",label:"LatinoamÃ©rica / Internacional",desc:"Tarifa Mensual: $39 USD / alumno",icon:"ðŸŒŽ"}]},{id:"experience",question:"Tu experiencia en Ajedrez",subtitle:"Para asignarte el nivel de alumnos adecuado.",options:[{value:"master",label:"Maestro (2000+ ELO)",desc:"Titulado FIDE o experto online."},{value:"coach",label:"Instructor (1500-2000 ELO)",desc:"Jugador de club con experiencia enseÃ±ando."},{value:"monitor",label:"Monitor (<1500 ELO)",desc:"Ideal para iniciaciÃ³n y niÃ±os."}]},{id:"style",question:"Â¿CuÃ¡l es tu estilo de enseÃ±anza?",options:[{value:"analytical",label:"AnalÃ­tico y Riguroso",desc:"Mucho anÃ¡lisis profundo y estudio serio."},{value:"dynamic",label:"DinÃ¡mico y Divertido",desc:"Clases rÃ¡pidas, prÃ¡cticas y entretenidas."},{value:"patient",label:"Paciente y Comprensivo",desc:"Ir paso a paso sin prisas."}]},{id:"theme",question:"Elige tu tablero inicial",options:[{value:"classic",label:"ClÃ¡sico madera",desc:"El tablero tradicional de toda la vida."},{value:"dark",label:"Modo Oscuro",desc:"Tablero minimalista, ideal para la vista."},{value:"glass",label:"Cristal Premium",desc:"El estilo exclusivo de TopChess."}]}],U=({onComplete:x})=>{const{currentUserId:o,currentUser:s}=E(),[l,r]=u.useState(0),[i,d]=u.useState({}),[j,f]=u.useState(!1),g=a=>{const t=h[l].id;d(n=>({...n,[t]:a}))},w=async()=>{if(l<h.length-1)r(a=>a+1);else{f(!0);try{const a=i.region,t=a==="EU"?59:39,n=a==="EU"?"EUR":"USD",y={id:o,name:(s==null?void 0:s.displayName)||"Profesor",elo:i.experience==="master"?2200:i.experience==="coach"?1700:1400,price:t,currency:n,region:a,commissionRate:.5,classesGiven:0,earnings:0,description:`Profesor especializado en metodologÃ­a ${i.style}.`,image:(s==null?void 0:s.photoURL)||"https://via.placeholder.com/150",tags:[i.style,i.experience],teachingStyle:i.style,curriculum:"Personalizado basÃ¡ndome en tus objetivos.",experienceYears:i.experience==="master"?10:2,achievements:[],boardTheme:i.theme||"glass"};if(await p.createTeacherProfile(y),await p.getUser(o))await p.updateUser(o,{role:"teacher"});else{const A={id:o,email:(s==null?void 0:s.email)||"",name:(s==null?void 0:s.displayName)||"Profesor",role:"teacher",photoURL:(s==null?void 0:s.photoURL)||"",createdAt:Date.now(),walletBalance:0,currency:"EUR"};await p.createUser(A)}v.success("Â¡Perfil de Profesor creado!"),x()}catch(a){console.error("Error creating profile:",a),v.error("Error al crear perfil")}finally{f(!1)}}},N=()=>{l>0&&r(a=>a-1)},c=h[l],m=i[c.id];return e.jsxs("div",{className:"w-full bg-[#262421] border border-gold/20 rounded-2xl shadow-2xl overflow-hidden flex flex-col relative h-auto md:min-h-[600px]",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gold/20 to-[#262421] p-4 flex items-center gap-3 border-b border-gold/10",children:[e.jsx("div",{className:"bg-gold text-black rounded-full p-1.5 shadow-lg shadow-gold/20",children:e.jsx(L,{size:16})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gold font-bold text-sm",children:"Sistema de ProgresiÃ³n Activo"}),e.jsxs("div",{className:"text-xs text-[#bababa]",children:["Empiezas ganando el ",e.jsx("span",{className:"text-white font-bold",children:"50%"}),". Â¡Desbloquea hasta el ",e.jsx("span",{className:"text-green-400 font-bold",children:"85%"})," enseÃ±ando! ðŸš€"]})]})]}),e.jsxs("div",{className:"p-8 flex flex-col h-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("span",{className:"text-gold text-xs font-bold uppercase tracking-widest mb-2 block",children:["Paso ",l+1," de ",h.length]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white tracking-tight",children:c.question}),c.subtitle&&e.jsx("p",{className:"text-[#8b8982] mt-2 text-lg",children:c.subtitle})]}),e.jsx("div",{className:"flex-1 space-y-3 overflow-y-auto mb-8 pr-2 custom-scrollbar",children:c.options.map(a=>{const t=i[c.id]===a.value;return e.jsxs("button",{onClick:()=>g(a.value),className:`w-full text-left p-6 rounded-xl border transition-all duration-200 group relative overflow-hidden flex items-center gap-4
                                    ${t?"bg-gold/10 border-gold/50 shadow-[0_0_15px_rgba(212,175,55,0.1)]":"bg-white/5 border-white/5 hover:border-white/20 hover:bg-white/10"}
                                `,children:[a.icon&&e.jsx("span",{className:"text-3xl",children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-bold text-lg mb-1 ${t?"text-gold":"text-white"}`,children:a.label}),e.jsx("div",{className:"text-sm text-[#bababa] font-light flex items-center gap-2",children:a.desc})]}),t&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-gold flex items-center justify-center text-black shadow-lg",children:e.jsx(k,{size:14,strokeWidth:3})})]},a.value)})}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-white/5",children:[e.jsxs("button",{onClick:N,disabled:l===0,className:`text-[#8b8982] hover:text-white px-4 py-2 text-sm font-medium transition-colors flex items-center gap-1 ${l===0?"opacity-0":""}`,children:[e.jsx(P,{size:16})," AtrÃ¡s"]}),e.jsxs("button",{onClick:w,disabled:!m,className:`px-8 py-3 rounded-full font-bold uppercase text-xs tracking-widest transition-all flex items-center gap-2
                            ${m?"bg-gold text-black hover:bg-gold-hover shadow-lg hover:shadow-gold/20 transform hover:-translate-y-0.5":"bg-white/5 text-white/20 cursor-not-allowed"}
                        `,children:[l===h.length-1?j?"Finalizar":"Crear Perfil":"Siguiente",l<h.length-1&&e.jsx(T,{size:16})]})]})]})]})},b=[{id:"level",question:"Â¿CuÃ¡l es tu nivel aproximado de ajedrez?",options:[{value:"beginner",label:"Principiante",desc:"Conozco las reglas, pocas partidas."},{value:"intermediate",label:"Intermedio (Club)",desc:"Juego torneos o online frecuentemente (1000-1500 ELO)."},{value:"advanced",label:"Avanzado",desc:"Jugador de torneo fuerte (>1500 ELO)."}]},{id:"goals",question:"Â¿QuÃ© aspecto quieres mejorar mÃ¡s?",options:[{value:"tactics",label:"TÃ¡ctica y CÃ¡lculo",desc:"Dejar de cometer errores graves."},{value:"openings",label:"Aperturas",desc:"Tener un plan sÃ³lido al inicio."},{value:"endgame",label:"Finales",desc:"Ganar partidas igualadas."},{value:"strategy",label:"Estrategia",desc:"Planes a largo plazo y posicionamiento."}]},{id:"style",question:"Â¿CÃ³mo prefieres las clases?",options:[{value:"active",label:"PrÃ¡ctica Activa",desc:"Jugar, analizar y resolver ejercicios."},{value:"theory",label:"TeorÃ­a y AnÃ¡lisis",desc:"Estudiar partidas y conceptos profundos."},{value:"mixed",label:"HÃ­brido",desc:"Un poco de todo."}]},{id:"theme",question:"Elige tu tablero inicial",options:[{value:"classic",label:"ClÃ¡sico madera",desc:"El tablero tradicional de toda la vida."},{value:"dark",label:"Modo Oscuro",desc:"Tablero minimalista, ideal para la vista."},{value:"glass",label:"Cristal Premium",desc:"El estilo exclusivo de TopChess."}]}],$=({onComplete:x})=>{const{currentUserId:o,currentUser:s,setUserRole:l}=E(),[r,i]=u.useState(0),[d,j]=u.useState({}),[f,g]=u.useState(!1),w=t=>{const n=b[r].id;j(y=>({...y,[n]:t}))},N=async()=>{if(r<b.length-1)i(t=>t+1);else{g(!0);try{const t={id:o,email:(s==null?void 0:s.email)||"",name:(s==null?void 0:s.displayName)||"Estudiante",role:"student",photoURL:(s==null?void 0:s.photoURL)||"",createdAt:Date.now(),walletBalance:0,currency:"EUR",elo:d.level==="beginner"?600:d.level==="intermediate"?1200:1600,learningGoals:[d.goals],preferredStyle:d.style,boardTheme:d.theme||"glass"};await p.createUser(t),l("student"),v.success("Â¡Perfil de estudiante creado!"),x()}catch(t){console.error("Error creating student profile:",t),v.error("Error al crear perfil")}finally{g(!1)}}},c=()=>{r>0&&i(t=>t-1)},m=b[r],a=d[m.id];return e.jsxs("div",{className:"w-full bg-[#262421] border border-[#302e2b] rounded-2xl shadow-2xl overflow-hidden flex flex-col h-auto md:h-[600px]",children:[e.jsxs("div",{className:"bg-[#1e1d1b] p-6 border-b border-[#302e2b] flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/10 text-blue-400 flex items-center justify-center",children:e.jsx(C,{size:16})}),e.jsx("span",{className:"font-bold text-white",children:"ConfiguraciÃ³n de Alumno"})]}),e.jsx("div",{className:"flex gap-1",children:b.map((t,n)=>e.jsx("div",{className:`h-1.5 w-6 rounded-full transition-colors ${n<=r?"bg-blue-500":"bg-[#302e2b]"}`},n))})]}),e.jsxs("div",{className:"p-8 flex flex-col h-full overflow-y-auto custom-scrollbar",children:[e.jsx("div",{className:"mb-8 text-center",children:e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:m.question})}),e.jsx("div",{className:"grid gap-3 max-w-md mx-auto w-full",children:m.options.map(t=>{const n=d[m.id]===t.value;return e.jsx("button",{onClick:()=>w(t.value),className:`w-full text-left p-4 rounded-xl border transition-all duration-200 group relative
                                    ${n?"bg-blue-500/10 border-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.2)]":"bg-[#302e2b]/50 border-transparent hover:border-[#403d39] hover:bg-[#302e2b]"}
                                `,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-bold text-lg ${n?"text-blue-400":"text-white"}`,children:t.label}),e.jsx("div",{className:"text-sm text-[#8b8982]",children:t.desc})]}),n&&e.jsx(k,{size:20,className:"text-blue-400"})]})},t.value)})}),e.jsxs("div",{className:"mt-auto pt-8 flex justify-between items-center max-w-md mx-auto w-full",children:[e.jsxs("button",{onClick:c,disabled:r===0,className:`text-[#8b8982] hover:text-white px-4 py-2 text-sm font-medium transition-colors flex items-center gap-1
                            ${r===0?"opacity-0 pointer-events-none":""}
                        `,children:[e.jsx(P,{size:16})," AtrÃ¡s"]}),e.jsx("button",{onClick:N,disabled:!a||f,className:`px-8 py-3 rounded-xl font-bold transition-all flex items-center gap-2
                            ${a?"bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-900/20":"bg-[#302e2b] text-[#666] cursor-not-allowed"}
                        `,children:f?e.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[r===b.length-1?"Finalizar":"Siguiente",r<b.length-1&&e.jsx(T,{size:16})]})})]})]})]})},J=()=>{const{userRole:x}=E(),o=q(),[s,l]=u.useState("selection");I.useEffect(()=>{x==="teacher"&&o("/dashboard"),x==="student"&&o("/student-dashboard")},[x,o]);const r=()=>{o("/student-dashboard")},i=()=>{o("/dashboard")};return s==="student_form"?e.jsxs("div",{className:"min-h-screen bg-[#161512] flex items-center justify-center p-4",children:[e.jsx("button",{onClick:()=>l("selection"),className:"fixed top-24 left-4 md:left-8 text-white/50 hover:text-white transition-colors flex items-center gap-2 z-10",children:"â† Volver"}),e.jsx("div",{className:"w-full max-w-2xl animate-enter",children:e.jsx($,{onComplete:r})})]}):s==="teacher_form"?e.jsxs("div",{className:"min-h-screen bg-[#161512] flex items-center justify-center p-4",children:[e.jsx("button",{onClick:()=>l("selection"),className:"fixed top-24 left-4 md:left-8 text-white/50 hover:text-white transition-colors flex items-center gap-2 z-10",children:"â† Volver"}),e.jsx("div",{className:"w-full max-w-2xl animate-enter",children:e.jsx(U,{onComplete:i})})]}):e.jsxs("div",{className:"min-h-screen bg-[#161512] flex flex-col items-center justify-center p-4 text-center",children:[e.jsxs("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-4 animate-fade-in",children:["Bienvenido a ",e.jsx("span",{className:"text-gold",children:"TopChess"})]}),e.jsx("p",{className:"text-[#8b8982] text-lg mb-12 max-w-md mx-auto animate-fade-in delay-100",children:"Para comenzar, cuÃ©ntanos cÃ³mo te gustarÃ­a usar la plataforma."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-3xl animate-enter delay-200",children:[e.jsxs("button",{onClick:()=>l("student_form"),className:"group card-glass glass-panel-hover p-8 flex flex-col items-center gap-6 text-left relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:e.jsx(C,{size:120})}),e.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-500/10 text-blue-400 flex items-center justify-center mb-2 group-hover:scale-110 transition-transform",children:e.jsx(C,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Quiero Aprender"}),e.jsx("p",{className:"text-[#8b8982] text-sm",children:"Busco profesores, quiero tomar clases y mejorar mi nivel de ajedrez."})]}),e.jsxs("div",{className:"mt-auto w-full flex items-center justify-between text-blue-400 font-bold text-sm",children:[e.jsx("span",{children:"Continuar como Estudiante"}),e.jsx(S,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})]}),e.jsxs("button",{onClick:()=>l("teacher_form"),className:"group card-glass glass-panel-hover p-8 flex flex-col items-center gap-6 text-left relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:e.jsx(z,{size:120})}),e.jsx("div",{className:"w-16 h-16 rounded-full bg-gold/10 text-gold flex items-center justify-center mb-2 group-hover:scale-110 transition-transform",children:e.jsx(z,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Quiero EnseÃ±ar"}),e.jsx("p",{className:"text-[#8b8982] text-sm",children:"Soy profesor o jugador experto y quiero ofrecer clases a estudiantes."})]}),e.jsxs("div",{className:"mt-auto w-full flex items-center justify-between text-gold font-bold text-sm",children:[e.jsx("span",{children:"Crear Perfil de Profesor"}),e.jsx(S,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})]})]})]})};export{J as default};
