import{c as g,a as te,u as se,r as c,f as v,j as e,S as I,z as N,X as ae}from"./index-LIR_5VpL.js";import{U as B}from"./users-DvL2KbDU.js";import{G as q}from"./graduation-cap-BDVFQ4AH.js";import{D as re}from"./dollar-sign-BdM5XYdX.js";import{C as ne}from"./circle-check-big-C4zVRZZz.js";import{a as le,A as ie}from"./arrow-up-right-CFKb5nIB.js";import{C as oe}from"./chevron-right-xFNCxJEG.js";import{A as ce}from"./activity-DlDIyEHs.js";import{C as de}from"./check-DtrQU1vn.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=g("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=g("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=g("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=g("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=g("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=g("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=g("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=g("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=g("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=g("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=g("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),u=r=>r.toFixed(2),L=r=>{const i=Math.floor((Date.now()-r)/1e3);return i<60?`${i}s`:i<3600?`${Math.floor(i/60)}m`:i<86400?`${Math.floor(i/3600)}h`:`${Math.floor(i/86400)}d`},je=()=>{const[r,i]=c.useState(new Date);return c.useEffect(()=>{const h=setInterval(()=>i(new Date),1e3);return()=>clearInterval(h)},[]),r},we=({data:r,color:i="#D4AF37"})=>{if(r.length<2)return null;const h=Math.max(...r)||1,l=Math.min(...r),x=80,o=28,b=r.map((d,y)=>{const m=y/(r.length-1)*x,f=o-(d-l)/(h-l||1)*o;return`${m},${f}`}).join(" ");return e.jsx("svg",{width:x,height:o,className:"opacity-70",children:e.jsx("polyline",{fill:"none",stroke:i,strokeWidth:"1.5",points:b})})},ve={blue:{ring:"border-blue-500/30",icon:"text-blue-400",badge:"bg-blue-500/10 text-blue-400"},gold:{ring:"border-gold/30",icon:"text-gold",badge:"bg-gold/10 text-gold"},purple:{ring:"border-purple-500/30",icon:"text-purple-400",badge:"bg-purple-500/10 text-purple-400"},green:{ring:"border-green-500/30",icon:"text-green-400",badge:"bg-green-500/10 text-green-400"},red:{ring:"border-red-500/30",icon:"text-red-400",badge:"bg-red-500/10 text-red-400"}},k=({icon:r,label:i,value:h,sub:l,color:x="gold",sparkline:o,live:b})=>{const d=ve[x];return e.jsxs("div",{className:`relative rounded-2xl border ${d.ring} bg-[#111]/60 backdrop-blur-sm p-5 flex flex-col gap-3 transition-all hover:scale-[1.01] group overflow-hidden`,children:[b&&e.jsx("span",{className:"absolute top-3 right-3 flex items-center gap-1",children:e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse shadow-[0_0_6px_rgba(34,197,94,0.6)]"})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`p-2 rounded-xl bg-white/5 ${d.icon}`,children:e.jsx(r,{size:18})}),o&&e.jsx(we,{data:o,color:x==="gold"?"#D4AF37":x==="green"?"#4ade80":"#60a5fa"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.25em] text-white/30 mb-1",children:i}),e.jsx("h3",{className:"text-2xl font-black tracking-tighter text-white",children:h}),l&&e.jsx("p",{className:"text-[10px] text-white/30 mt-0.5",children:l})]})]})},C=({active:r,onClick:i,icon:h,label:l,badge:x})=>e.jsxs("button",{onClick:i,className:`relative flex items-center gap-2.5 px-5 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${r?"bg-gold text-black shadow-lg shadow-gold/20":"text-white/30 hover:text-white hover:bg-white/5"}`,children:[e.jsx(h,{size:13,className:r?"text-black":"text-gold"}),l,x!==void 0&&x>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[8px] font-black rounded-full w-4 h-4 flex items-center justify-center",children:x>9?"9+":x})]}),Ne=({teacher:r,onSave:i})=>{const[h,l]=c.useState(!1),[x,o]=c.useState(!1),[b,d]=c.useState(String(Math.round((r.commissionRate??.5)*100))),y=async()=>{o(!0),await i(r.id,Number(b)/100),o(!1),l(!1)};return h?e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("input",{autoFocus:!0,type:"number",min:"10",max:"95",value:b,onChange:m=>d(m.target.value),className:"w-16 bg-black/60 border border-gold/40 rounded-lg px-2 py-1 text-xs text-gold font-mono text-center outline-none",disabled:x}),e.jsx("span",{className:"text-[10px] text-white/30",children:"%"}),x?e.jsx(A,{size:13,className:"text-gold animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:y,className:"text-green-400 hover:text-green-300 transition-colors",children:e.jsx(de,{size:13})}),e.jsx("button",{onClick:()=>l(!1),className:"text-red-400 hover:text-red-300 transition-colors",children:e.jsx(ae,{size:13})})]})]}):e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-1.5 group/edit px-2 py-1 rounded-lg hover:bg-white/5 transition-colors",children:[e.jsxs("span",{className:"text-xs font-black text-gold font-mono",children:[Math.round((r.commissionRate??.5)*100),"%"]}),e.jsx(ge,{size:10,className:"text-white/20 group-hover/edit:text-gold transition-colors"})]})},De=()=>{const{currentUser:r}=te(),i=se(),h=je(),[l,x]=c.useState([]),[o,b]=c.useState([]),[d,y]=c.useState([]),[m,f]=c.useState("users"),[j,O]=c.useState(""),[W,G]=c.useState(!0),[Z,z]=c.useState(Date.now()),[R,K]=c.useState(0),[w,S]=c.useState(new Set),X=c.useRef(0);c.useEffect(()=>{X.current++,K(t=>t+1)},[l,o,d]),c.useEffect(()=>{r&&r.email!=="andreslgumuzio@gmail.com"&&i("/")},[r,i]),c.useEffect(()=>{if(!r||r.email!=="andreslgumuzio@gmail.com")return;const t=v.subscribeToCollection("users",n=>{x(n),z(Date.now()),G(!1)}),s=v.subscribeToCollection("teachers",n=>{b(n),z(Date.now())}),a=v.subscribeToCollection("transactions",n=>{y(n.sort((p,T)=>T.timestamp-p.timestamp)),z(Date.now())});return()=>{t(),s(),a()}},[r]);const E=d.filter(t=>t.type==="payment_received").reduce((t,s)=>t+s.amount,0);l.filter(t=>t.role==="student"&&t.status!=="banned").length;const M=l.filter(t=>t.status==="banned").length,_=o.filter(t=>t.isVerified).length,J=d.filter(t=>t.type==="payment_received"&&t.timestamp>Date.now()-864e5).reduce((t,s)=>t+s.amount,0),$=Array.from({length:7},(t,s)=>{const a=Date.now()-(6-s)*864e5,n=a+864e5;return d.filter(p=>p.type==="payment_received"&&p.timestamp>=a&&p.timestamp<n).reduce((p,T)=>p+T.amount,0)}),Q=async(t,s)=>{S(a=>new Set(a).add(t));try{await v.banUser(t,!s),N.success(s?"âœ… Usuario desrestringido":"ðŸš« Usuario restringido")}catch{N.error("Error al cambiar estado")}finally{S(a=>{const n=new Set(a);return n.delete(t),n})}},Y=async(t,s)=>{S(a=>new Set(a).add(t));try{await v.verifyTeacher(t,!s),N.success(s?"VerificaciÃ³n retirada":"â­ VerificaciÃ³n concedida")}catch{N.error("Error al verificar")}finally{S(a=>{const n=new Set(a);return n.delete(t),n})}},ee=async(t,s)=>{try{await v.updateTeacher(t,{commissionRate:s}),N.success(`ComisiÃ³n actualizada al ${Math.round(s*100)}%`)}catch{N.error("Error al actualizar comisiÃ³n")}},U=l.filter(t=>{var s,a;return((s=t.name)==null?void 0:s.toLowerCase().includes(j.toLowerCase()))||((a=t.email)==null?void 0:a.toLowerCase().includes(j.toLowerCase()))}),F=o.filter(t=>{var s;return(s=t.name)==null?void 0:s.toLowerCase().includes(j.toLowerCase())}),V=d.filter(t=>{var s,a,n;return((s=t.description)==null?void 0:s.toLowerCase().includes(j.toLowerCase()))||((a=t.fromId)==null?void 0:a.includes(j))||((n=t.toId)==null?void 0:n.includes(j))});return W?e.jsxs("div",{className:"min-h-screen bg-[#0c0b0a] flex flex-col items-center justify-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(I,{size:40,className:"text-gold animate-pulse"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full bg-green-500 animate-ping"})]}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30 animate-pulse",children:"Conectando con Firestore..."})]}):e.jsxs("div",{className:"min-h-screen bg-[#0c0b0a] text-white overflow-x-hidden",children:[e.jsx("div",{className:"sticky top-0 z-50 bg-[#0c0b0a]/95 backdrop-blur-xl border-b border-white/5 px-6 py-4",children:e.jsxs("div",{className:"max-w-[1600px] mx-auto flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-1 bg-gold/20 rounded-xl blur-md"}),e.jsx("div",{className:"relative p-2.5 bg-[#111] rounded-xl border border-gold/20",children:e.jsx(I,{size:20,className:"text-gold"})})]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-base font-black tracking-tighter",children:["Control ",e.jsx("span",{className:"text-gold",children:"Central"})]}),e.jsxs("p",{className:"text-[9px] text-white/20 font-bold uppercase tracking-[0.25em]",children:["TopChess Admin Â· ",h.toLocaleTimeString("es-ES")]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-500/10 border border-green-500/20 rounded-xl",children:[e.jsx(fe,{size:11,className:"text-green-400"}),e.jsx("span",{className:"text-[9px] font-black text-green-400 uppercase tracking-widest",children:"En vivo"}),e.jsxs("span",{className:"text-[9px] text-green-300/50 font-mono",children:[R," eventos"]})]}),e.jsx("div",{className:"px-3 py-1.5 bg-white/5 border border-white/5 rounded-xl",children:e.jsxs("span",{className:"text-[9px] font-mono text-white/30",children:["Sync: ",L(Z)]})}),e.jsx("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-white/5 border border-white/5 rounded-xl",children:e.jsxs("span",{className:"text-[9px] text-white/30 uppercase font-black tracking-widest",children:[l.length+o.length," entidades"]})})]})]})}),e.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 md:px-6 py-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[e.jsx(k,{icon:B,label:"Estudiantes",value:l.filter(t=>t.role==="student").length,sub:`${M} restringidos`,color:"blue",live:!0,sparkline:[...Array(7)].map((t,s)=>l.filter(a=>a.createdAt>Date.now()-(7-s)*864e5).length)}),e.jsx(k,{icon:q,label:"Mentores",value:o.length,sub:`${_} verificados`,color:"gold",live:!0,sparkline:$.map((t,s)=>s)}),e.jsx(k,{icon:re,label:"Revenue Total",value:`â‚¬${u(E)}`,sub:`â‚¬${u(J)} hoy`,color:"green",live:!0,sparkline:$}),e.jsx(k,{icon:P,label:"Transacciones",value:d.length,sub:`${d.filter(t=>t.timestamp>Date.now()-864e5).length} hoy`,color:"purple",live:!0}),e.jsx(k,{icon:be,label:"Alertas",value:M,sub:"usuarios restringidos",color:"red",live:!0})]}),e.jsxs("div",{className:"bg-[#111]/60 border border-white/5 rounded-2xl overflow-hidden backdrop-blur-sm",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 p-4 border-b border-white/5 bg-white/[0.02]",children:[e.jsxs("div",{className:"flex items-center gap-1 overflow-x-auto hide-scrollbar pb-1 md:pb-0",children:[e.jsx(C,{active:m==="users",onClick:()=>f("users"),icon:B,label:"Usuarios",badge:M}),e.jsx(C,{active:m==="teachers",onClick:()=>f("teachers"),icon:q,label:"Mentores"}),e.jsx(C,{active:m==="transactions",onClick:()=>f("transactions"),icon:P,label:"Transacciones"}),e.jsx(C,{active:m==="analytics",onClick:()=>f("analytics"),icon:me,label:"AnalÃ­ticas"}),e.jsx(C,{active:m==="system",onClick:()=>f("system"),icon:ue,label:"Sistema"})]}),e.jsxs("div",{className:"relative w-full md:w-72 shrink-0",children:[e.jsx(H,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-white/20"}),e.jsx("input",{type:"text",placeholder:"Buscar...",value:j,onChange:t=>O(t.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl pl-9 pr-4 py-2.5 text-xs text-white focus:border-gold/40 outline-none placeholder:text-white/20 transition-all"})]})]}),m==="users"&&e.jsxs("div",{className:"overflow-x-auto overflow-y-hidden custom-scrollbar",children:[e.jsxs("table",{className:"w-full min-w-[700px]",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-white/[0.02] border-b border-white/5",children:["Identidad","Rol","Saldo","Registrado","Estado",""].map(t=>e.jsx("th",{className:`p-4 text-[9px] font-black uppercase tracking-[0.2em] text-white/25 ${t===""?"text-right":"text-left"}`,children:t},t))})}),e.jsx("tbody",{className:"divide-y divide-white/[0.04]",children:U.map(t=>e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("img",{src:t.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name)}&background=1b1a17&color=D4AF37&bold=true`,className:"w-9 h-9 rounded-xl object-cover ring-1 ring-white/10 group-hover:ring-gold/20 transition-all",alt:"",onError:s=>{var a;s.target.src=`https://ui-avatars.com/api/?name=${(a=t.name)==null?void 0:a.charAt(0)}&background=1b1a17&color=D4AF37`}}),t.status==="banned"&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 rounded-full p-0.5 border border-[#111]",children:e.jsx(xe,{size:7,className:"text-white"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white leading-tight",children:t.name}),e.jsx("p",{className:"text-[10px] text-white/25 font-mono",children:t.email})]})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2.5 py-1 rounded-full border ${t.role==="teacher"?"bg-gold/10 text-gold border-gold/20":"bg-blue-500/10 text-blue-400 border-blue-500/20"}`,children:t.role})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:"font-mono text-sm font-bold text-white",children:["â‚¬",u(t.walletBalance??0)]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-[10px] text-white/30 font-mono",children:t.createdAt?new Date(t.createdAt).toLocaleDateString("es-ES"):"â€”"})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2.5 py-1 rounded-full border ${t.status==="banned"?"bg-red-500/10 text-red-400 border-red-500/20":"bg-green-500/10 text-green-400 border-green-500/20"}`,children:t.status==="banned"?"Restringido":"Activo"})}),e.jsx("td",{className:"p-4 text-right",children:e.jsx("button",{onClick:()=>Q(t.id,t.status==="banned"),disabled:w.has(t.id),className:`p-2 rounded-xl border transition-all flex items-center justify-center ml-auto ${t.status==="banned"?"bg-green-500/10 text-green-400 border-green-500/20 hover:bg-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20 hover:bg-red-500/20"} ${w.has(t.id)?"opacity-50 cursor-not-allowed":""}`,title:t.status==="banned"?"Restaurar acceso":"Restringir usuario",children:w.has(t.id)?e.jsx(A,{size:14,className:"animate-spin"}):t.status==="banned"?e.jsx(he,{size:14}):e.jsx(pe,{size:14})})})]},t.id))})]}),U.length===0&&e.jsx(D,{label:"No hay usuarios"})]}),m==="teachers"&&e.jsxs("div",{className:"overflow-x-auto overflow-y-hidden custom-scrollbar",children:[e.jsxs("table",{className:"w-full min-w-[800px]",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-white/[0.02] border-b border-white/5",children:["Mentor","RegiÃ³n","Tarifa/h","ComisiÃ³n","Clases","Ingresos",""].map(t=>e.jsx("th",{className:`p-4 text-[9px] font-black uppercase tracking-[0.2em] text-white/25 ${t===""?"text-right":"text-left"}`,children:t},t))})}),e.jsx("tbody",{className:"divide-y divide-white/[0.04]",children:F.map(t=>e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("img",{src:t.image,className:"w-10 h-10 rounded-xl object-cover ring-1 ring-white/10 group-hover:ring-gold/20 transition-all grayscale group-hover:grayscale-0",alt:""}),t.isVerified&&e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-gold rounded-full p-0.5 border border-[#111] shadow-[0_0_6px_rgba(212,175,55,0.4)]",children:e.jsx(ne,{size:8,className:"text-black"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white leading-tight group-hover:text-gold transition-colors",children:t.name}),e.jsx("p",{className:"text-[9px] text-white/25 uppercase tracking-wider",children:t.teachingStyle})]})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-[9px] text-white/40 border border-white/10 bg-white/[0.02] px-2 py-1 rounded-lg font-mono",children:t.region})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:"font-mono text-sm font-bold text-white",children:["â‚¬",t.price]})}),e.jsx("td",{className:"p-4",children:e.jsx(Ne,{teacher:t,onSave:ee})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"font-mono text-sm text-white/60",children:t.classesGiven??0})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:"font-mono text-sm font-bold text-green-400",children:["â‚¬",u(t.earnings??0)]})}),e.jsx("td",{className:"p-4 text-right",children:e.jsx("button",{onClick:()=>Y(t.id,t.isVerified??!1),disabled:w.has(t.id),className:`px-3 flex items-center justify-center gap-2 ml-auto py-1.5 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all ${t.isVerified?"bg-gold text-black border-gold shadow-gold/20":"bg-white/5 text-white/30 border-white/10 hover:border-gold/40 hover:text-gold"} ${w.has(t.id)?"opacity-50 cursor-not-allowed":""}`,children:w.has(t.id)?e.jsx(A,{size:12,className:"animate-spin"}):t.isVerified?"âœ“ Verificado":"Verificar"})})]},t.id))})]}),F.length===0&&e.jsx(D,{label:"No hay mentores"})]}),m==="transactions"&&e.jsxs("div",{className:"overflow-x-auto overflow-y-hidden custom-scrollbar",children:[e.jsxs("table",{className:"w-full min-w-[700px]",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-white/[0.02] border-b border-white/5",children:["Tipo","DescripciÃ³n","CuantÃ­a","Tiempo","Ruta"].map(t=>e.jsx("th",{className:"p-4 text-left text-[9px] font-black uppercase tracking-[0.2em] text-white/25",children:t},t))})}),e.jsx("tbody",{className:"divide-y divide-white/[0.04]",children:V.map(t=>{var s,a;return e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[e.jsx("td",{className:"p-4",children:e.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center border ${t.type==="deposit"?"bg-blue-500/10 border-blue-500/20 text-blue-400":t.type==="payment_received"?"bg-green-500/10 border-green-500/20 text-green-400":"bg-orange-500/10 border-orange-500/20 text-orange-400"}`,children:t.type==="deposit"?e.jsx(le,{size:14}):e.jsx(ie,{size:14})})}),e.jsxs("td",{className:"p-4",children:[e.jsx("p",{className:"text-sm font-bold text-white truncate max-w-[200px]",children:t.description}),e.jsx("p",{className:"text-[9px] text-white/25 font-mono",children:t.id})]}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:`font-mono text-sm font-black ${t.amount>0?t.description.toLowerCase().includes("comisiÃ³n")?"text-gold":"text-green-400":"text-red-400"}`,children:[t.amount>0?"+":"","â‚¬",u(Math.abs(t.amount))]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-white/50 font-mono",children:new Date(t.timestamp).toLocaleDateString("es-ES")}),e.jsxs("p",{className:"text-[9px] text-white/25 font-mono",children:[L(t.timestamp)," ago"]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-mono text-white/20",children:[e.jsxs("span",{className:"truncate max-w-[70px] hover:text-white/50 cursor-help",title:t.fromId,children:[(s=t.fromId)==null?void 0:s.slice(0,8),"â€¦"]}),e.jsx(oe,{size:9}),e.jsxs("span",{className:"truncate max-w-[70px] hover:text-white/50 cursor-help",title:t.toId,children:[(a=t.toId)==null?void 0:a.slice(0,8),"â€¦"]})]})})]},t.id)})})]}),V.length===0&&e.jsx(D,{label:"Sin transacciones"})]}),m==="analytics"&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.25em] text-white/30 mb-4",children:"Revenue Ãºltimos 7 dÃ­as"}),e.jsx("div",{className:"flex items-end gap-2 h-32",children:$.map((t,s)=>{const a=Math.max(...$)||1,n=t/a*100,p=new Date(Date.now()-(6-s)*864e5);return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1.5",children:[e.jsxs("span",{className:"text-[8px] text-white/30 font-mono",children:["â‚¬",u(t)]}),e.jsx("div",{className:"w-full bg-white/5 rounded-t-lg overflow-hidden",style:{height:"80px"},children:e.jsx("div",{className:"w-full bg-gradient-to-t from-gold/60 to-gold rounded-t-lg transition-all duration-500",style:{height:`${Math.max(n,4)}%`,marginTop:`${100-Math.max(n,4)}%`}})}),e.jsx("span",{className:"text-[8px] text-white/20 font-mono",children:p.toLocaleDateString("es-ES",{weekday:"short"})})]},s)})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{label:"DepÃ³sitos",type:"deposit",color:"text-blue-400",border:"border-blue-500/20"},{label:"Pagos enviados",type:"payment_sent",color:"text-orange-400",border:"border-orange-500/20"},{label:"Pagos recibidos",type:"payment_received",color:"text-green-400",border:"border-green-500/20"}].map(t=>{const s=d.filter(n=>n.type===t.type),a=s.reduce((n,p)=>n+Math.abs(p.amount),0);return e.jsxs("div",{className:`bg-white/[0.02] border ${t.border} rounded-xl p-4`,children:[e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest text-white/30 mb-2",children:t.label}),e.jsxs("p",{className:`text-2xl font-black font-mono ${t.color}`,children:["â‚¬",u(a)]}),e.jsxs("p",{className:"text-[9px] text-white/20 mt-1",children:[s.length," operaciones"]})]},t.type)})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.25em] text-white/30 mb-3",children:"Top Mentores por Ingresos"}),e.jsx("div",{className:"space-y-2",children:[...o].sort((t,s)=>(s.earnings??0)-(t.earnings??0)).slice(0,5).map((t,s)=>{const a=Math.max(...o.map(n=>n.earnings??0))||1;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-[10px] text-white/20 font-mono w-4",children:s+1}),e.jsx("img",{src:t.image,className:"w-7 h-7 rounded-lg object-cover",alt:""}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-bold text-white",children:t.name}),e.jsxs("span",{className:"text-xs font-mono text-green-400",children:["â‚¬",u(t.earnings??0)]})]}),e.jsx("div",{className:"h-1 bg-white/5 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-gold/60 to-gold rounded-full transition-all duration-700",style:{width:`${(t.earnings??0)/a*100}%`}})})]})]},t.id)})})]})]}),m==="system"&&e.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[[{name:"Firebase Auth",status:"operational",latency:"12ms"},{name:"Firestore DB",status:"operational",latency:"24ms"},{name:"Firebase Storage",status:"operational",latency:"45ms"},{name:"LiveKit RTC",status:"operational",latency:"38ms"},{name:"Lichess API",status:"operational",latency:"120ms"},{name:"Real-time Sync",status:"operational",latency:`${R} events`}].map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/[0.02] border border-white/5 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${t.status==="operational"?"bg-green-500 shadow-[0_0_6px_rgba(34,197,94,0.5)] animate-pulse":"bg-red-500"}`}),e.jsx("span",{className:"text-sm font-bold text-white",children:t.name})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-[9px] font-mono text-white/30",children:t.latency}),e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded-full ${t.status==="operational"?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:t.status})]})]},t.name)),e.jsx("div",{className:"md:col-span-2 grid grid-cols-2 md:grid-cols-4 gap-3 pt-2",children:[{label:"Total usuarios",value:l.length+o.length},{label:"Usuarios activos",value:l.filter(t=>t.status!=="banned").length},{label:"Mentores activos",value:_},{label:"Volumen total",value:`â‚¬${u(E)}`}].map(t=>e.jsxs("div",{className:"bg-white/[0.02] border border-white/5 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-[8px] text-white/25 uppercase tracking-widest font-black mb-1",children:t.label}),e.jsx("p",{className:"text-lg font-black text-white",children:t.value})]},t.label))})]})]}),e.jsxs("div",{className:"bg-[#111]/60 border border-white/5 rounded-2xl p-5 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("p",{className:"text-[9px] font-black uppercase tracking-[0.25em] text-white/30 flex items-center gap-2",children:[e.jsx(ce,{size:11,className:"text-green-400"}),"Feed en Tiempo Real"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-ping"}),e.jsx("span",{className:"text-[9px] text-green-400/60 font-mono",children:"live"})]})]}),e.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar",children:[d.slice(0,12).map(t=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/[0.04] last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t.type==="deposit"?"bg-blue-400":t.type==="payment_received"?"bg-green-400":"bg-orange-400"}`}),e.jsx("span",{className:"text-xs text-white/60 truncate max-w-[240px]",children:t.description})]}),e.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[e.jsxs("span",{className:`text-xs font-mono font-bold ${t.amount>=0?"text-green-400":"text-red-400"}`,children:[t.amount>=0?"+":"","â‚¬",u(Math.abs(t.amount))]}),e.jsx("span",{className:"text-[9px] text-white/20 font-mono",children:L(t.timestamp)})]})]},t.id)),d.length===0&&e.jsx("p",{className:"text-center text-[10px] text-white/15 py-6 uppercase tracking-widest",children:"Sin actividad reciente"})]})]})]})]})},D=({label:r})=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-3",children:[e.jsx(H,{size:24,className:"text-white/10"}),e.jsx("p",{className:"text-[10px] text-white/15 uppercase tracking-[0.3em] font-black",children:r})]});export{De as default};
